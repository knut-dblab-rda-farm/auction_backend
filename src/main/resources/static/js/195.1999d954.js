"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[195,624],{8035:function(e,t,s){s.d(t,{Z:function(){return k}});var a=s(3396),i=s(7139);const n=e=>((0,a.dD)("data-v-3e57e5ff"),e=e(),(0,a.Cn)(),e),r={class:"main_nav_t_div"},o={class:"main_t_nav"},l={class:"main_t_nav_list"},c=n((()=>(0,a._)("li",{class:"nav__btn"},[(0,a._)("a",{class:"nav__link",href:"alert"},[(0,a._)("i",{class:"fas fa-bell fa-2x","aria-hidden":"true"})])],-1))),u={class:"main_m_li_list"},d={class:"nav_m_link",href:"workout.html"},_={class:"nav__btn"},h=n((()=>(0,a._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),m=[h];function v(e,t,s,n,h,v){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("nav",o,[(0,a._)("ul",l,[c,(0,a._)("li",u,[(0,a._)("p",d,(0,i.zw)(s.headerProps),1)]),(0,a._)("li",_,[(0,a._)("a",{class:"nav__link",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},m)])])])])}var p={props:{headerProps:String}},g=s(89);const f=(0,g.Z)(p,[["render",v],["__scopeId","data-v-3e57e5ff"]]);var k=f},6515:function(e,t,s){s.d(t,{Z:function(){return d}});var a=s(3396),i=s(7139);function n(e,t,s,n,r,o){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("i",{onClick:t[0]||(t[0]=e=>o.likeClick()),class:"fa fa-heart like-icon",style:(0,i.j5)([1===r.like.state?{color:"#FFC1AA"}:{color:"lightgrey"}])},null,4)])}var r=s(6265),o=s.n(r),l={data(){return{like:{users:[],count:0,state:0,auction_id:0,consumer_id:0},user:JSON.parse(localStorage.getItem("user"))}},async mounted(){this.like.auction_id=parseInt(this.$route.params.id),this.like.consumer_id=this.user.consumer_id,await o().get(`/api/checkWish/${this.like.auction_id}/${this.like.consumer_id}`,{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e.data),this.like.state=e.data})).catch((e=>{alert(e)}))},methods:{likeClick(){let e={auction_id:this.like.auction_id,consumer_id:this.user.consumer_id};0===this.like.state?o().post("/api/registWish",e,{headers:{TOKEN:this.user.token}}).then((()=>{alert("좋아요를 클릭했습니다!")})).catch((e=>{console.log(e)})):1===this.like.state&&o()["delete"](`/api/deleteWish/${this.like.auction_id}/${this.user.consumer_id}`,{headers:{TOKEN:this.user.token}}).then((()=>{alert("좋아요를 취소하였습니다!")})).catch((e=>console.log(e)))}}},c=s(89);const u=(0,c.Z)(l,[["render",n],["__scopeId","data-v-95acc18a"]]);var d=u},177:function(e,t,s){s.d(t,{Z:function(){return f}});var a=s(3396),i=s(9374),n=s(1138),r=s(7041),o=s(1477),l=s(2370),c=s(3712),u=s(4870),d=s(1107),_=s(131);const h=(0,d.a)({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...(0,i.Z)(),...(0,n.Q)({tag:"div"}),...(0,r.x$)()},setup(e,t){let{slots:s}=t;const n=20,d=2*Math.PI*n,h=(0,u.iH)(),{themeClasses:m}=(0,r.ER)(e),{sizeClasses:v,sizeStyles:p}=(0,i.t)(e),{textColorClasses:g,textColorStyles:f}=(0,l.rY)((0,u.Vh)(e,"color")),{textColorClasses:k,textColorStyles:b}=(0,l.rY)((0,u.Vh)(e,"bgColor")),{intersectionRef:w,isIntersecting:D}=(0,o.S)(),{resizeRef:y,contentRect:C}=(0,c.y)(),N=(0,a.Fl)((()=>Math.max(0,Math.min(100,parseFloat(e.modelValue))))),S=(0,a.Fl)((()=>Number(e.width))),$=(0,a.Fl)((()=>p.value?Number(e.size):C.value?C.value.width:Math.max(S.value,32))),I=(0,a.Fl)((()=>n/(1-S.value/$.value)*2)),P=(0,a.Fl)((()=>S.value/$.value*I.value)),O=(0,a.Fl)((()=>(0,_.kb)((100-N.value)/100*d)));return(0,a.m0)((()=>{w.value=h.value,y.value=h.value})),()=>(0,a.Wm)(e.tag,{ref:h,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":D.value,"v-progress-circular--disable-shrink":"disable-shrink"===e.indeterminate},m.value,v.value,g.value],style:[p.value,f.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:N.value},{default:()=>[(0,a.Wm)("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[(0,a.Wm)("circle",{class:["v-progress-circular__underlay",k.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":P.value,"stroke-dasharray":d,"stroke-dashoffset":0},null),(0,a.Wm)("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":P.value,"stroke-dasharray":d,"stroke-dashoffset":O.value},null)]),s.default&&(0,a.Wm)("div",{class:"v-progress-circular__content"},[s.default({value:N.value})])]})}});function m(e,t){return(0,a.wg)(),(0,a.j4)(h,{class:"spinner",indeterminate:"",color:"orange"})}var v=s(89);const p={},g=(0,v.Z)(p,[["render",m],["__scopeId","data-v-2c2c7d18"]]);var f=g},3230:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var a=s(3396);const i={class:"auction-contain"},n={class:"inner"};function r(e,t,s,r,o,l){const c=(0,a.up)("Header"),u=(0,a.up)("Slide"),d=(0,a.up)("AuctionList"),_=(0,a.up)("bottom-nav");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",n,[(0,a.Wm)(c,{headerProps:o.headerProps},null,8,["headerProps"]),(0,a.Wm)(u,{imgData:o.imgData},null,8,["imgData"]),(0,a.Wm)(d)]),(0,a.Wm)(_)])}var o=s(8035),l=s(1177),c=s(7139);const u=e=>((0,a.dD)("data-v-da1341c6"),e=e(),(0,a.Cn)(),e),d={class:"white_div"},_={class:"goods_pay_section"},h={class:"goods_group"},m={class:"goods_group_list"},v=["onClick"],p={class:"goods_item"},g={class:"goods_thumb"},f=["src"],k={class:"goods_info"},b={class:"goods"},w={class:"name"},D={class:"info"},y=u((()=>(0,a._)("span",{class:"blind"},"상품금액",-1))),C={class:"date"},N=u((()=>(0,a._)("span",{class:"blind"},"등록일",-1))),S={key:0,class:"state _statusName value_color_green _click(nmp.front.order.timeline.home.list.openDeliveryPopup(/o/orderStatus/deliveryTracking/2022020394386781/ORDER_DELIVERY/api)) _stopDefault"},$={key:1,class:"state _statusName value_color_green _click(nmp.front.order.timeline.home.list.openDeliveryPopup(/o/orderStatus/deliveryTracking/2022020394386781/ORDER_DELIVERY/api)) _stopDefault"},I={class:"guide"},P={class:"seller_item"},O={class:"inner"},x={class:"seller"},E={class:"tel"},T=u((()=>(0,a._)("br",null,null,-1))),z=u((()=>(0,a._)("br",null,null,-1))),M={style:{display:"none"}};function W(e,t,s,i,n,r){const o=(0,a.up)("Spinner"),l=(0,a.up)("InfiniteLoading");return(0,a.wg)(),(0,a.iD)("div",null,[!0===n.spinnerState?((0,a.wg)(),(0,a.j4)(o,{key:0})):(0,a.kq)("",!0),(0,a._)("fieldset",null,[(0,a._)("div",d,[(0,a._)("div",_,[(0,a._)("div",h,[(0,a._)("ul",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.auctionList,(e=>((0,a.wg)(),(0,a.iD)("li",{onClick:t=>r.navigateProduct(e),key:e.auction_Id,id:"_rowLi20220203162708CHK2022020394386781",class:"goods_pay_item _interlockNo20220211200904406814"},[(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("img",{src:`/product_images/${e.productDTO.product_img_name}.png`,alt:"",width:"90",height:"90"},null,8,f)]),(0,a._)("div",k,[(0,a._)("div",b,[(0,a._)("p",w,(0,c.zw)(e.auction_name),1),(0,a._)("ul",D,[(0,a._)("li",null,[y,(0,a.Uk)((0,c.zw)(e.bid_price)+"원",1)]),(0,a._)("li",C,[N,(0,a.Uk)(" "+(0,c.zw)(e.productDTO.p_reg_date),1)])])]),1===e.bid_status?((0,a.wg)(),(0,a.iD)("p",S," ("+(0,c.zw)(r.updateDeadlineDate(e.deadline_date))+" 경매 종료)",1)):(0,a.kq)("",!0),0===e.bid_status?((0,a.wg)(),(0,a.iD)("p",$," 최종 낙찰가격 "+(0,c.zw)(e.a_max_price.toLocaleString())+"원",1)):(0,a.kq)("",!0),(0,a._)("p",I,(0,c.zw)(e.productDTO.p_explanation),1)])]),(0,a._)("div",P,[(0,a._)("div",O,[(0,a._)("span",x,(0,c.zw)(e.f_farm_name),1),(0,a._)("span",E,(0,c.zw)(e.f_phonenum),1),T,z])])],8,v)))),128))])])])])]),(0,a._)("div",null,[(0,a._)("button",{class:"more-data",onClick:t[0]||(t[0]=e=>r.moreProduct())},"더보기")]),(0,a._)("p",M,(0,c.zw)(n.now),1),(0,a.Wm)(l,{comments:e.auction,onInfinite:t[1]||(t[1]=e=>r.moreProduct())},null,8,["comments"])])}var R=s(177),Z=s(6515),F=s(3266),L=s.n(F),H=s(4029),K=s.n(H),V={components:{Like:Z.Z,Spinner:R.Z},data(){return{spinnerState:!1,limit:0,infiniteId:+new Date,now:0}},mounted(){this.updateNow(),setInterval(this.updateNow.bind(this),1e3)},created(){this.connect()},methods:{updateNow(){this.now=Math.round(Date.now()/1e3)},updateDeadlineDate(e){let t=new Date;console.log("date",t),console.log("auction",this.auction),console.log("deadline",e),t.setFullYear(Number(e.substr(0,4))),t.setMonth(Number(e.substr(5,2))-1),t.setDate(Number(e.substr(8,2))),t.setHours(Number(e.substr(11,2))),t.setMinutes(Number(e.substr(14,2))),t.setSeconds(Number(e.substr(17,2)));let s=Math.round(t.getTime()/1e3)-this.now;if(s<0)return"";let a=Math.floor(s/86400),i=Math.floor(s%86400),n=Math.floor(i/3600),r=Math.floor(i%3600/60),o=Math.floor(i%3600%60);return`${a}일 ${n}시간 ${r}분 ${o}초 후`},navigateProduct(e){this.$router.push({name:"auction_detail",params:{id:e.auction_Id,auction:JSON.stringify(e)}})},navigategoback(){console.log("!!"),this.$router.go(-1)},moreProduct(){this.spinnerState=!0,this.send()},send(){this.stompClient&&this.stompClient.connected&&this.stompClient.send("/receive_limit/"+this.$store.state.config.headers.TOKEN,this.$store.state.limit,{})},connect(){const e="/socket";let t=new(K())(e);this.stompClient=L().over(t),console.log(`소켓 연결을 시도합니다. 서버 주소: ${e}`);let s={TOKEN:this.$store.state.config.headers.TOKEN};this.stompClient.connect(s,(e=>{this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send_auction_data/"+this.$store.state.config.headers.TOKEN,(e=>{this.spinnerState=!1;const t=JSON.parse(e.body);if(console.log("response_data.length: "+t.length),t.length){for(let e=0;e<t.length;e++)this.$store.commit("PUSH_AUCTION",t[e]);this.$store.commit("UP_LIMIT",2)}console.log("2131231limit:"+this.$store.state.limit)})),this.stompClient.subscribe("/send_bidding",(e=>{const t=JSON.parse(e.body);console.log(t),void 0!=t&&this.$store.commit("UPDATE_BID_PRICE",t)}))}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))}}},Y=s(89);const A=(0,Y.Z)(V,[["render",W],["__scopeId","data-v-da1341c6"]]);var U=A,J=s(5483),j={components:{bottomNav:J["default"],Header:o.Z,AuctionList:U,Slide:l["default"]},data(){return{headerProps:"경매 알림",imgData:[]}}};const q=(0,Y.Z)(j,[["render",r],["__scopeId","data-v-8ed599f8"]]);var B=q},1477:function(e,t,s){s.d(t,{S:function(){return r}});var a=s(4870),i=s(3396),n=s(2385);function r(e){const t=(0,a.iH)(),s=(0,a.iH)(!1);if(n.cu){const a=new IntersectionObserver((t=>{null==e||e(t,a),s.value=!!t.find((e=>e.isIntersecting))}));(0,i.Jd)((()=>{a.disconnect()})),(0,i.YP)(t,((e,t)=>{t&&(a.unobserve(t),s.value=!1),e&&a.observe(e)}),{flush:"post"})}return{intersectionRef:t,isIntersecting:s}}}}]);
//# sourceMappingURL=195.1999d954.js.map