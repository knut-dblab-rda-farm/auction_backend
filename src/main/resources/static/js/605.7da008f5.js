"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[605],{8099:function(){},9164:function(t,e,l){l.d(e,{Z:function(){return v}});var a=l(3396),n=l(9242),s=l(7139),u=l(8521),o=l(1991);const r=t=>((0,a.dD)("data-v-b79a30fa"),t=t(),(0,a.Cn)(),t),i={class:"auth-contain"},c={key:0,class:"auth-box"},d=r((()=>(0,a._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),h={class:"auth"},m={class:"timer"};function p(t,e,l,r,p,_){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(u.D,{cols:"12"},{default:(0,a.w5)((()=>[!0===p.auth.phoneAuthState?((0,a.wg)(),(0,a.iD)("div",c,[d,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>p.auth.authInput=t),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[n.nr,p.auth.authInput]]),(0,a._)("p",m,(0,s.zw)(String(Math.floor(p.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,s.zw)(String(Math.floor(p.auth.authCounter/1e3%60)).padStart(2,"0")),1),(0,a._)("button",{class:"auth-complete-btn",onClick:e[1]||(e[1]=e=>t.$emit("authRes",p.auth.authRes))},"확인")])])):(0,a.kq)("",!0),(0,a.Wm)(o.h,{modelValue:t.c_phonenum,"onUpdate:modelValue":e[2]||(e[2]=e=>t.c_phonenum=e),label:"핸드폰 번호",rules:t.c_phonenum_rule},null,8,["modelValue","rules"]),(0,a._)("button",{class:"auth-button",onClick:e[3]||(e[3]=t=>_.authState())},"인증 번호 받기")])),_:1})])}var _={data(){return{auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0,authRes:!0}}},unmounted(){this.auth.authCounter=0},methods:{authState(){this.c_phonenum.length>=8?(this.auth.phoneAuthState=!0,axios.post(),setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},f=l(89);const g=(0,f.Z)(_,[["render",p],["__scopeId","data-v-b79a30fa"]]);var v=g},6605:function(t,e,l){l.r(e),l.d(e,{default:function(){return O}});var a=l(3396),n=l(9242),s=l(6422),u=(l(6699),l(8099),l(1138)),o=l(7139),r=l(1107);const i=["sm","md","lg","xl","xxl"],c=["start","end","center"];function d(t,e){return i.reduce(((l,a)=>(l[t+(0,o.kC)(a)]=e(),l)),{})}const h=t=>[...c,"baseline","stretch"].includes(t),m=d("align",(()=>({type:String,default:null,validator:h}))),p=t=>[...c,"space-between","space-around"].includes(t),_=d("justify",(()=>({type:String,default:null,validator:p}))),f=t=>[...c,"space-between","space-around","stretch"].includes(t),g=d("alignContent",(()=>({type:String,default:null,validator:f}))),v={align:Object.keys(m),justify:Object.keys(_),alignContent:Object.keys(g)},w={align:"align",justify:"justify",alignContent:"align-content"};function b(t,e,l){let a=w[t];if(null!=l){if(e){const l=e.replace(t,"");a+=`-${l}`}return a+=`-${l}`,a.toLowerCase()}}const y=(0,r.a)({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h},...m,justify:{type:String,default:null,validator:p},..._,alignContent:{type:String,default:null,validator:f},...g,...(0,u.Q)()},setup(t,e){let{slots:l}=e;const n=(0,a.Fl)((()=>{const e=[];let l;for(l in v)v[l].forEach((a=>{const n=t[a],s=b(l,a,n);s&&e.push(s)}));return e.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),e}));return()=>{var e;return(0,a.h)(t.tag,{class:["v-row",n.value]},null==(e=l.default)?void 0:e.call(l))}}});var S=l(8521),C=l(1991);const k=t=>((0,a.dD)("data-v-7b8814a4"),t=t(),(0,a.Cn)(),t),$={class:"signup-contain"},V=k((()=>(0,a._)("header",{class:"welcome-header"},[(0,a._)("h1",{class:"welcome-header__title"},"회 원 가 입")],-1))),x=k((()=>(0,a._)("br",null,null,-1))),j=k((()=>(0,a._)("br",null,null,-1)));function W(t,e,l,u,o,r){const i=(0,a.up)("Auth");return(0,a.wg)(),(0,a.iD)("div",$,[V,(0,a.Wm)(s.O,{ref:"form","lazy-validation":"",onSubmit:(0,n.iM)(t.SignupForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(S.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(C.h,{class:"inutBox",modelValue:o.c_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.c_name=t),label:"이름*",rules:o.c_name_rule,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(S.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(C.h,{class:"inutBox",modelValue:o.c_email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.c_email=t),label:"이메일*",rules:o.emailRules,disabled:"ins"!=o.state,required:""},null,8,["modelValue","rules","disabled"])])),_:1}),(0,a._)("button",{class:"login-form__btn_right",onClick:e[2]||(e[2]=t=>r.existEmail(o.c_email))},"이메일 중복 검사"),(0,a.Wm)(S.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(C.h,{class:"inutBox",modelValue:o.c_passwd,"onUpdate:modelValue":e[3]||(e[3]=t=>o.c_passwd=t),label:"비밀번호*",type:"password",rules:o.c_passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(S.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(C.h,{class:"inutBox",modelValue:o.c_passwd_chk,"onUpdate:modelValue":e[4]||(e[4]=t=>o.c_passwd_chk=t),label:"비밀번호 확인*",type:"password",rules:o.c_passwd_rule2},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(i)])),_:1}),x,j,(0,a._)("button",{class:"login-form__btn_right",onClick:e[5]||(e[5]=t=>r.signupConsumer())},"다음")])),_:1},8,["onSubmit"])])}var D=l(6265),A=l.n(D),B=l(9164),E={name:"SignupForm",components:{Auth:B.Z},data(){return{c_name:null,c_email:null,c_passwd:null,c_phonenum:null,dialog:!1,state:"ins",authList:[{name:"관리자",value:"A"},{name:"일반 사용자",value:"M"}],c_email:"",emailRules:[t=>!!t||"이메일은 필수 입력사항입니다.",t=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(t)||"유효하지 않은 형식의 E-mail 입니다."],c_name:"",c_name_rule:[t=>!!t||"이름은 필수 입력사항입니다.",t=>!(t&&t.length>=10)||"이름은 10자 이상 입력할 수 없습니다.",t=>!/[~!@#$%^&*()_+|<>?:{}]/.test(t)||"이름에는 특수문자를 사용할 수 없습니다."],c_passwd:"",c_passwd_chk:"",c_passwd_rule:[t=>"ins"!==this.state||(!!t||"패스워드는 필수 입력사항입니다."),t=>!(t&&t.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],c_passwd_rule2:[t=>"ins"!==this.state||(!!t||"패스워드는 필수 입력사항입니다."),t=>!(t&&t.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",t=>t===this.c_passwd||"패스워드가 일치하지 않습니다."],user_auth:"",user_auth_rule:[t=>!!t||"권한은 필수 선택 사항입니다."],c_phonenum:"",c_phonenum_rule:[t=>"ins"!==this.state||(!!t||"핸드폰 번호는 필수 입력사항입니다."),t=>!(t&&t.length>=12)||"핸드폰 번호는 12자 이상 입력할 수 업습니다.",t=>/[0-9]/.test(t)||"숫자만 입력해주세요"],urlState:0}},mounted(){"/signup"===this.$route.fullPath?(this.urlState=0,console.log(this.urlState)):"/signupFarm"===this.$route.fullPath&&(this.urlState=1,console.log(this.urlState))},methods:{existEmail(t){this.$store.dispatch("existEmail",t),console.log(t)},async signupConsumer(){let t;await this.$refs.form.validate().then((e=>{t=e.valid,console.log(e)})).catch((t=>{console.log(t)})),console.log(t),console.log(this.$store.state.existEmail),t?this.$store.state.existEmail?alert("이메일 중복 확인을 완료해주세요!"):(console.log(),A().post("/api/signupConsumer",{c_name:this.c_name,c_email:this.c_email,c_passwd:this.c_passwd,c_phonenum:this.c_phonenum}).then((t=>{console.log(t),0==t.data?alert("회원가입 실패.."):(alert("회원가입 성공.."),console.log("main으로!!"),console.log(this.token),console.log(t.data.token),this.token=t.data.token,this.$router.push({name:"main",params:this.token}))})).catch((t=>{console.log(t)}))):console.log("다른 거 확인하길 바람")}}},R=l(89);const I=(0,R.Z)(E,[["render",W],["__scopeId","data-v-7b8814a4"]]);var O=I},8521:function(t,e,l){l.d(e,{D:function(){return m}});l(6699),l(8099);var a=l(1138),n=l(7139),s=l(3396),u=l(1107);const o=["sm","md","lg","xl","xxl"],r=(()=>o.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),i=(()=>o.reduce(((t,e)=>(t["offset"+(0,n.kC)(e)]={type:[String,Number],default:null},t)),{}))(),c=(()=>o.reduce(((t,e)=>(t["order"+(0,n.kC)(e)]={type:[String,Number],default:null},t)),{}))(),d={col:Object.keys(r),offset:Object.keys(i),order:Object.keys(c)};function h(t,e,l){let a=t;if(null!=l&&!1!==l){if(e){const l=e.replace(t,"");a+=`-${l}`}return"col"===t&&(a="v-"+a),"col"!==t||""!==l&&!0!==l?(a+=`-${l}`,a.toLowerCase()):a.toLowerCase()}}const m=(0,u.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...i,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},...(0,a.Q)()},setup(t,e){let{slots:l}=e;const a=(0,s.Fl)((()=>{const e=[];let l;for(l in d)d[l].forEach((a=>{const n=t[a],s=h(l,a,n);s&&e.push(s)}));const a=e.some((t=>t.startsWith("v-col-")));return e.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),e}));return()=>{var e;return(0,s.h)(t.tag,{class:a.value},null==(e=l.default)?void 0:e.call(l))}}})}}]);
//# sourceMappingURL=605.7da008f5.js.map