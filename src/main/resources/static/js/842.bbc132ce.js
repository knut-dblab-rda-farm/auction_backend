"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[842,673],{9123:function(e,t,s){s.d(t,{Z:function(){return v}});var o=s(3396),n=s(7139);const i=e=>((0,o.dD)("data-v-29d81906"),e=e(),(0,o.Cn)(),e),l={class:"main_nav_t_div"},a={class:"main_t_nav"},r={class:"main_t_nav_list"},c=i((()=>(0,o._)("li",{class:"nav__btn"},[(0,o._)("a",{class:"nav__link",href:"alert"},[(0,o._)("i",{class:"fas fa-bell fa-2x","aria-hidden":"true"})])],-1))),d={class:"main_m_li_list"},u={class:"nav_m_link",href:"workout.html"},h={class:"nav__btn"},_=i((()=>(0,o._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),m=[_];function g(e,t,s,i,_,g){return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("nav",a,[(0,o._)("ul",r,[c,(0,o._)("li",d,[(0,o._)("p",u,(0,n.zw)(s.headerProps),1)]),(0,o._)("li",h,[(0,o._)("a",{class:"nav__link",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},m)])])])])}var p={props:{headerProps:String}},f=s(89);const b=(0,f.Z)(p,[["render",g],["__scopeId","data-v-29d81906"]]);var v=b},1750:function(e,t,s){s.d(t,{Z:function(){return d}});var o=s(3396);function n(e,t,s,n,i,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("i",{onClick:t[0]||(t[0]=e=>l.likeClick()),class:"fa fa-heart like-icon"})])}s(6699);var i=s(6265),l=s.n(i),a={data(){return{like:{users:[],count:0}}},async mounted(){JSON.parse(localStorage.getItem("userInformation"));await l().get("/api/likePostWho",{params:{post_id:this.$route.params.post}}).then((e=>{if(console.log(e.data),"failure"===e.data)this.like.count=0;else{for(let t=0;t<e.data.length;t++)this.like.users.push(e.data[t].nickname),e.data[t].consumer_id===this.$store.state.login.consumer_id&&(document.querySelector(".likeAndShareBtn").style.backgroundColor="lightgrey",document.querySelector(".likeAndShareBtn").style.color="grey");this.like.count=this.like.users.length}})).catch((e=>{console.log(e)}))},methods:{likeWho(){l().get("/api/likePostWho",{params:{post_id:this.$route.params.post}}).then((e=>{for(let t=0;t<e.data.length;t++)this.like.users.push(e.data[t].nickname),e.data[t].consumer_id===this.$store.state.login.user.consumer_id&&(document.querySelector(".likeAndShareBtn").style.backgroundColor="lightgrey",document.querySelector(".likeAndShareBtn").style.color="grey");this.like.users=this.like.users.filter((e=>void 0!==e)),this.like.count=this.like.users.length})).catch((e=>{console.log(e)}))},likeClick(){let e=JSON.parse(localStorage.getItem("userInformation"));this.like.users.includes(this.$store.state.login.user.consumer_id)?l()["delete"]("/api/likesMinus",{params:{post_id:this.$route.params.post,customer_id:this.$store.state.login.user.customer_id}}).then((e=>{console.log(e)})):l().post("/api/likesPlus",{post_id:this.$route.params.post,consumer_id:e.nickname}).then((e=>{console.log(e)}))}}},r=s(89);const c=(0,r.Z)(a,[["render",n],["__scopeId","data-v-6b22bdb4"]]);var d=c},4858:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var o=s(3396);const n={class:"auction-contain"};function i(e,t,s,i,l,a){const r=(0,o.up)("Header"),c=(0,o.up)("Slide"),d=(0,o.up)("AuctionList");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(r,{headerProps:l.headerProps},null,8,["headerProps"]),(0,o.Wm)(c),(0,o.Wm)(d)])}var l=s(3266),a=s.n(l),r=s(4029),c=s.n(r),d=s(9123),u=s(7866),h=s(7139);const _=e=>((0,o.dD)("data-v-2bd77f26"),e=e(),(0,o.Cn)(),e),m={class:"white_div"},g={class:"goods_pay_section"},p={class:"goods_group"},f={class:"goods_group_list"},b=["onClick"],v={class:"goods_item"},k={class:"goods_thumb"},w=["src"],$={class:"goods_info"},N={class:"goods"},D={class:"name"},y={class:"info"},C=_((()=>(0,o._)("span",{class:"blind"},"상품금액",-1))),S={class:"date"},I=_((()=>(0,o._)("span",{class:"blind"},"등록일",-1))),O={class:"state _statusName value_color_green _click(nmp.front.order.timeline.home.list.openDeliveryPopup(/o/orderStatus/deliveryTracking/2022020394386781/ORDER_DELIVERY/api)) _stopDefault"},P={class:"guide"},M={class:"seller_item"},T={class:"inner"},E={class:"seller"},L={class:"tel"},z=_((()=>(0,o._)("br",null,null,-1))),A=_((()=>(0,o._)("br",null,null,-1))),K={style:{display:"none"}};function J(e,t,s,n,i,l){const a=(0,o.up)("InfiniteLoading");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("fieldset",null,[(0,o._)("div",m,[(0,o._)("div",g,[(0,o._)("div",p,[(0,o._)("ul",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.$store.state.auctionList,(e=>((0,o.wg)(),(0,o.iD)("li",{onClick:t=>l.navigateProduct(e),key:e.auction_Id,id:"_rowLi20220203162708CHK2022020394386781",class:"goods_pay_item _interlockNo20220211200904406814"},[(0,o._)("div",v,[(0,o._)("div",k,[(0,o._)("img",{src:`/product_images/${e.productDTO.product_img_name}.png`,alt:"",width:"90",height:"90"},null,8,w)]),(0,o._)("div",$,[(0,o._)("div",N,[(0,o._)("p",D,(0,h.zw)(e.auction_name),1),(0,o._)("ul",y,[(0,o._)("li",null,[C,(0,o.Uk)((0,h.zw)(e.bid_price)+"원",1)]),(0,o._)("li",S,[I,(0,o.Uk)(" "+(0,h.zw)(e.productDTO.p_reg_date),1)])])]),(0,o._)("div",O,(0,h.zw)(e.bid_status)+" ("+(0,h.zw)(l.updateDeadlineDate(e.deadline_date))+" 경매 종료)",1),(0,o._)("p",P,(0,h.zw)(e.productDTO.p_explanation),1)])]),(0,o._)("div",M,[(0,o._)("div",T,[(0,o._)("span",E,(0,h.zw)(e.f_farm_name),1),(0,o._)("span",L,(0,h.zw)(e.f_phonenum),1),z,A])])],8,b)))),128))])])])])]),(0,o._)("div",null,[(0,o._)("button",{class:"more-data",onClick:t[0]||(t[0]=e=>l.moreProduct())},"더보기")]),(0,o._)("p",K,(0,h.zw)(i.now),1),(0,o.Wm)(a,{comments:e.auction,onInfinite:t[1]||(t[1]=e=>l.moreProduct())},null,8,["comments"])])}var U=s(1750),H=(s(6265),{components:{Like:U.Z},data(){return{limit:0,infiniteId:+new Date,now:0}},mounted(){this.updateNow(),setInterval(this.updateNow.bind(this),1e3)},created(){this.connect()},methods:{updateNow(){this.now=Math.round(Date.now()/1e3)},updateDeadlineDate(e){let t=new Date;t.setFullYear(Number(e.substr(0,4))),t.setMonth(Number(e.substr(5,2))-1),t.setDate(Number(e.substr(8,2))),t.setHours(Number(e.substr(11,2))),t.setMinutes(Number(e.substr(14,2))),t.setSeconds(Number(e.substr(17,2)));let s=Math.round(t.getTime()/1e3)-this.now;if(s<0)return"";let o=Math.floor(s/86400),n=Math.floor(s%86400),i=Math.floor(n/3600),l=Math.floor(n%3600/60),a=Math.floor(n%3600%60);return`${o}일 ${i}시 ${l}분 ${a}초 후`},navigateProduct(e){console.log("navigateProduct"),console.log(e),console.log(e.bid_num),this.$router.push({name:"auction_detail",params:{id:e.auction_Id,auction:JSON.stringify(e)}})},navigategoback(){console.log("!!"),this.$router.go(-1)},moreProduct(e){console.log("state",e),this.send(),then((({data:t})=>{t.hits.length?(this.page+=1,this.list.push(...t.hits),e.loaded()):e.complete()}))},send(){console.log("limit:"+this.$store.state.limit),console.log(this.stompClient),console.log(this.stompClient.connected),this.stompClient&&this.stompClient.connected&&(console.log(this.$store.state.limit),console.log(this.$store.state.config.headers.TOKEN),this.stompClient.send("/receive_limit/"+this.$store.state.config.headers.TOKEN,this.$store.state.limit,{}),this.$store.commit("UP_LIMIT",4),console.log("st",this.$store.state),console.log(this.$store.state.auctionList))},connect(){const e="/socket";let t=new(c())(e);this.stompClient=a().over(t),console.log(`소켓 연결을 시도합니다. 서버 주소: ${e}`),console.log(this.$store.state.config.headers);let s={TOKEN:this.$store.state.config.headers.TOKEN};console.log(s),this.stompClient.connect(s,(e=>{this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send_auction_data/"+this.$store.state.config.headers.TOKEN,(e=>{const t=JSON.parse(e.body);console.log(t[0]),console.log("deadline: "+t[0].deadline_date),console.log("deadline_date type 확인: "+typeof t[0].deadline_date),console.log(t.length),JSON.parse(e.body);for(let s=0;s<t.length;s++)this.$store.commit("PUSH_AUCTION",t[s]);console.log("this.auctionList"),console.log(this.$store.state.auctionList[0])})),this.stompClient.subscribe("/send_bidding",(e=>{const t=JSON.parse(e.body);console.log(t),void 0!=t&&this.$store.commit("UPDATE_BID_PRICE",t)}))}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))}}}),Z=s(89);const W=(0,Z.Z)(H,[["render",J],["__scopeId","data-v-2bd77f26"]]);var B=W,R=s(6337),q={components:{bottomNav:R["default"],Header:d.Z,AuctionList:B,Slide:u["default"]},data(){return{headerProps:"경매 알림",limit:0,infiniteId:+new Date,now:0}},mounted(){this.updateNow(),setInterval(this.updateNow.bind(this),1e3)},created(){this.connect()},methods:{updateNow(){this.now=Math.round(Date.now()/1e3)},updateDeadlineDate(e){let t=new Date;t.setFullYear(Number(e.substr(0,4))),t.setMonth(Number(e.substr(5,2))-1),t.setDate(Number(e.substr(8,2))),t.setHours(Number(e.substr(11,2))),t.setMinutes(Number(e.substr(14,2))),t.setSeconds(Number(e.substr(17,2)));let s=Math.round(t.getTime()/1e3)-this.now;if(s<0)return"";let o=Math.floor(s/86400),n=Math.floor(s%86400),i=Math.floor(n/3600),l=Math.floor(n%3600/60),a=Math.floor(n%3600%60);return`${o}일 ${i}시 ${l}분 ${a}초 후`},connect(){const e="/socket";let t=new(c())(e);this.stompClient=a().over(t),console.log(`소켓 연결을 시도합니다. 서버 주소: ${e}`),console.log(this.$store.state.config.headers);let s={TOKEN:this.$store.state.config.headers.TOKEN};console.log(s),this.stompClient.connect(s,(e=>{this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send_auction_data/"+this.$store.state.config.headers.TOKEN,(e=>{const t=JSON.parse(e.body);console.log(t[0]),console.log("deadline: "+t[0].deadline_date),console.log("deadline_date type 확인: "+typeof t[0].deadline_date),console.log(t.length),JSON.parse(e.body);for(let s=0;s<t.length;s++)this.$store.commit("PUSH_AUCTION",t[s]);console.log("this.auctionList"),console.log(this.$store.state.auctionList[0])})),this.stompClient.subscribe("/send_bidding",(e=>{const t=JSON.parse(e.body);console.log(t),void 0!=t&&this.$store.commit("UPDATE_BID_PRICE",t)}))}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))}}};const Y=(0,Z.Z)(q,[["render",i]]);var x=Y}}]);
//# sourceMappingURL=842.bbc132ce.js.map