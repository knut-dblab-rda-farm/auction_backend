"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[603],{8099:function(){},2225:function(e,t,n){n.d(t,{Z:function(){return w}});var l=n(3396),a=n(9242),s=n(7139),o=n(8521),u=n(1991);const i=e=>((0,l.dD)("data-v-7ab8d834"),e=e(),(0,l.Cn)(),e),r={class:"auth-contain"},d={key:0,class:"auth-box"},c=i((()=>(0,l._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),h={class:"auth"},m={class:"timer"};function p(e,t,n,i,p,f){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(o.D,{cols:"12"},{default:(0,l.w5)((()=>[!0===p.auth.phoneAuthState?((0,l.wg)(),(0,l.iD)("div",d,[c,(0,l._)("div",h,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>p.auth.authInput=e),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[a.nr,p.auth.authInput]]),(0,l._)("p",m,(0,s.zw)(String(Math.floor(p.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,s.zw)(String(Math.floor(p.auth.authCounter/1e3%60)).padStart(2,"0")),1),(0,l._)("button",{class:"auth-complete-btn",onClick:t[1]||(t[1]=t=>e.$emit("authRes",{authInput:this.auth.authInput,id:this.id,phoneAuthNumber:this.phoneAuthNumber,phonenum:this.phonenum}))},"확인")])])):(0,l.kq)("",!0),(0,l.Wm)(u.h,{modelValue:p.phonenum,"onUpdate:modelValue":t[2]||(t[2]=e=>p.phonenum=e),label:"핸드폰 번호",rules:e.phonenum_rule},null,8,["modelValue","rules"]),(0,l._)("button",{class:"auth-button",onClick:t[3]||(t[3]=e=>f.authState())},"인증 번호 받기")])),_:1})])}var f=n(6265),g=n.n(f),v={props:{info:{checkUser:String,name:String,email:String}},data(){return{auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0,authRes:!0},id:null,phoneAuthNumber:null,phonenum:null}},unmounted(){this.auth.authCounter=0},methods:{authState(){console.log(this.info),console.log(this.phonenum),this.phonenum.length>=8?(this.auth.phoneAuthState=!0,g().post("/api/findPassword",{checkUser:this.info.checkUser,name:this.info.name,email:this.info.email,phonenum:this.phonenum}).then((e=>{console.log(e.data),this.id=e.data.id,this.phoneAuthNumber=e.data.phoneAuthNumber})).catch((e=>{console.log(e)})),setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},_=n(89);const b=(0,_.Z)(v,[["render",p],["__scopeId","data-v-7ab8d834"]]);var w=b},2635:function(e,t,n){n.d(t,{Z:function(){return f}});var l=n(3396),a=n(8521);const s=e=>((0,l.dD)("data-v-595c3961"),e=e(),(0,l.Cn)(),e),o={class:"auth-contain"},u={class:"auth-box"},i=s((()=>(0,l._)("input",{type:"text",id:"postcode",class:"information-form__input",placeholder:"우편번호"},null,-1))),r=s((()=>(0,l._)("input",{type:"text",id:"roadAddress",class:"information-form__input2",placeholder:"도로명 주소"},null,-1))),d=s((()=>(0,l._)("br",null,null,-1)));function c(e,t,n,s,c,h){return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(a.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("button",{class:"auth-complete-btn",onClick:t[0]||(t[0]=e=>h.search())},"주소 검색"),i,r,d]),(0,l._)("button",{class:"auth-button",onClick:t[1]||(t[1]=t=>e.$emit("searchAddressRes",{zipcode:this.zipcode,address:this.address}))},"주소 확인")])),_:1})])}var h={props:{addressInfo:{zipcode:String,address:String}},data(){return{zipcode:"",address:""}},mounted(){console.log("addressInfo: "+this.addressInfo.zipcode),0!=this.addressInfo.zipcode&&(document.getElementById("postcode").value="우편번호 "+this.addressInfo.zipcode,document.getElementById("roadAddress").value="주소 "+this.addressInfo.address)},methods:{search(){new window.daum.Postcode({oncomplete:e=>{var t=e.roadAddress,n="";""!==e.bname&&/[동|로|가]$/g.test(e.bname)&&(n+=e.bname),""!==e.buildingName&&"Y"===e.apartment&&(n+=""!==n?", "+e.buildingName:e.buildingName),""!==n&&(n=" ("+n+")"),document.getElementById("postcode").value="우편번호 "+e.zonecode,document.getElementById("roadAddress").value="주소 "+t,this.zipcode=e.zonecode,this.address=t}}).open()}}},m=n(89);const p=(0,m.Z)(h,[["render",c],["__scopeId","data-v-595c3961"]]);var f=p},1603:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var l=n(3396),a=n(9242),s=n(6422),o=(n(6699),n(8099),n(1138)),u=n(7139),i=n(1107);const r=["sm","md","lg","xl","xxl"],d=["start","end","center"];function c(e,t){return r.reduce(((n,l)=>(n[e+(0,u.kC)(l)]=t(),n)),{})}const h=e=>[...d,"baseline","stretch"].includes(e),m=c("align",(()=>({type:String,default:null,validator:h}))),p=e=>[...d,"space-between","space-around"].includes(e),f=c("justify",(()=>({type:String,default:null,validator:p}))),g=e=>[...d,"space-between","space-around","stretch"].includes(e),v=c("alignContent",(()=>({type:String,default:null,validator:g}))),_={align:Object.keys(m),justify:Object.keys(f),alignContent:Object.keys(v)},b={align:"align",justify:"justify",alignContent:"align-content"};function w(e,t,n){let l=b[e];if(null!=n){if(t){const n=t.replace(e,"");l+=`-${n}`}return l+=`-${n}`,l.toLowerCase()}}const S=(0,i.a)({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h},...m,justify:{type:String,default:null,validator:p},...f,alignContent:{type:String,default:null,validator:g},...v,...(0,o.Q)()},setup(e,t){let{slots:n}=t;const a=(0,l.Fl)((()=>{const t=[];let n;for(n in _)_[n].forEach((l=>{const a=e[l],s=w(n,l,a);s&&t.push(s)}));return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t}));return()=>{var t;return(0,l.h)(e.tag,{class:["v-row",a.value]},null==(t=n.default)?void 0:t.call(n))}}});var y=n(8521),k=n(1991);const C=e=>((0,l.dD)("data-v-e954ec0c"),e=e(),(0,l.Cn)(),e),A={class:"signup-contain"},$=C((()=>(0,l._)("header",{class:"welcome-header"},[(0,l._)("h1",{class:"welcome-header__title"},"회 원 가 입")],-1))),z=C((()=>(0,l._)("br",null,null,-1))),I=C((()=>(0,l._)("br",null,null,-1)));function V(e,t,n,o,u,i){const r=(0,l.up)("SearchAddress"),d=(0,l.up)("Auth");return(0,l.wg)(),(0,l.iD)("div",A,[$,(0,l.Wm)(s.O,{ref:"form","lazy-validation":"",onSubmit:(0,a.iM)(e.SignupForm,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.h,{class:"inutBox",modelValue:u.name,"onUpdate:modelValue":t[0]||(t[0]=e=>u.name=e),label:"이름*",rules:u.name_rule,required:""},null,8,["modelValue","rules"])])),_:1}),(0,l.Wm)(y.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.h,{class:"inutBox",modelValue:u.email,"onUpdate:modelValue":t[1]||(t[1]=e=>u.email=e),label:"이메일*",rules:u.emailRules,disabled:"ins"!=u.state,required:""},null,8,["modelValue","rules","disabled"])])),_:1}),(0,l._)("button",{class:"login-form__btn_right",onClick:t[2]||(t[2]=e=>i.existEmail(u.email))},"이메일 중복 검사"),(0,l.Wm)(y.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.h,{class:"inutBox",modelValue:u.passwd,"onUpdate:modelValue":t[3]||(t[3]=e=>u.passwd=e),label:"비밀번호*",type:"password",rules:u.passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,l.Wm)(y.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.h,{class:"inutBox",modelValue:u.passwd_chk,"onUpdate:modelValue":t[4]||(t[4]=e=>u.passwd_chk=e),label:"비밀번호 확인*",type:"password",rules:u.passwd_rule2},null,8,["modelValue","rules"])])),_:1}),0==this.urlState?((0,l.wg)(),(0,l.j4)(r,{key:0,onSearchAddressRes:i.searchAddressResult},null,8,["onSearchAddressRes"])):(0,l.kq)("",!0),(0,l.Wm)(d,{info:u.info,onAuthRes:i.phonenumAuthResult},null,8,["info","onAuthRes"])])),_:1}),z,I,(0,l._)("button",{class:"login-form__btn_right",onClick:t[5]||(t[5]=e=>i.signup())},"다음")])),_:1},8,["onSubmit"])])}var x=n(6265),R=n.n(x),N=n(2225),D=n(2635),W={name:"SignupForm",components:{Auth:N.Z,SearchAddress:D.Z},data(){return{info:{checkUser:"signup",name:null,email:null},phonenumAuth:!1,addressCheck:!1,name:null,email:null,passwd:null,phonenum:null,zipcode:null,location:null,dialog:!1,state:"ins",authList:[{name:"관리자",value:"A"},{name:"일반 사용자",value:"M"}],email:"",emailRules:[e=>!!e||"이메일은 필수 입력사항입니다.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],name:"",name_rule:[e=>!!e||"이름은 필수 입력사항입니다.",e=>!(e&&e.length>=10)||"이름은 10자 이상 입력할 수 없습니다.",e=>!/[~!@#$%^&*()_+|<>?:{}]/.test(e)||"이름에는 특수문자를 사용할 수 없습니다."],passwd:"",passwd_chk:"",passwd_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],passwd_rule2:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",e=>e===this.passwd||"패스워드가 일치하지 않습니다."],user_auth:"",user_auth_rule:[e=>!!e||"권한은 필수 선택 사항입니다."],phonenum:"",phonenum_rule:[e=>"ins"!==this.state||(!!e||"핸드폰 번호는 필수 입력사항입니다."),e=>!(e&&e.length>=12)||"핸드폰 번호는 12자 이상 입력할 수 업습니다.",e=>/[0-9]/.test(e)||"숫자만 입력해주세요"],urlState:0}},mounted(){"/signup"===this.$route.fullPath?(this.urlState=0,console.log(this.urlState)):"/signupFarm"===this.$route.fullPath&&(this.urlState=1,console.log(this.urlState))},methods:{existEmail(e){this.$store.dispatch("existEmail",e),console.log(e)},searchAddressResult(e){console.log("event: ",e),this.zipcode=e.zipcode,this.location=e.address,this.addressCheck=!0,alert("주소 입력이 완료되었습니다!")},phonenumAuthResult(e){console.log("event: ",e),e.authInput==e.phoneAuthNumber?(this.phonenumAuth=!0,this.phonenum=e.phonenum,alert("인증 완료되었습니다.")):alert("인증번호가 맞지 않습니다!")},async signup(){let e;await this.$refs.form.validate().then((t=>{console.log("res: "+t),e=t.valid,console.log(t)})).catch((e=>{console.log(e)})),console.log(e),console.log(this.$store.state.existEmail),e?this.$store.state.existEmail?alert("이메일 중복 확인을 완료해주세요!"):this.addressCheck?this.phonenumAuth?1==this.urlState?(console.log("tsdfsdf: "+this.name),this.$store.commit("FARM_INFO",{name:this.name,email:this.email,passwd:this.passwd,phonenum:this.phonenum,checkUser:"farm"}),1==this.$store.state.kindOfFarm?this.$router.push({name:"farm_user_info"}):this.$router.push({name:"farm_biz_info"})):(console.log(),R().post("/api/signupConsumer",{c_name:this.name,c_email:this.email,c_passwd:this.passwd,c_phonenum:this.phonenum,c_zipcode:this.zipcode,c_location:this.location}).then((e=>{console.log(e),0==e.data?alert("회원가입 실패.."):(alert("회원가입 성공.."),console.log("main으로!!"),console.log(this.token),console.log(e.data.token),this.token=e.data.token,this.$router.push({name:"main",params:this.token}))})).catch((e=>{console.log(e)}))):alert("핸드폰 번호 인증을 완료해주세요!"):alert("주소 입력을 완료해주세요!"):console.log("다른 거 확인하길 바람")}}},j=n(89);const B=(0,j.Z)(W,[["render",V],["__scopeId","data-v-e954ec0c"]]);var E=B},6422:function(e,t,n){n.d(t,{O:function(){return r}});var l=n(3396),a=n(4357),s=n(4870),o=n(1107),u=n(9888),i=n(6199);const r=(0,o.a)({name:"VForm",props:{...(0,a.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const r=(0,a.Np)(e),d=(0,s.iH)();function c(e){e.preventDefault(),r.reset()}function h(e){const t=e,n=r.validate();t.then=n.then.bind(n),t.catch=n.catch.bind(n),t.finally=n.finally.bind(n),o("submit",t),t.defaultPrevented||n.then((e=>{let{valid:t}=e;var n;t&&(null==(n=d.value)||n.submit())})),t.preventDefault()}return(0,u.L)((()=>{var e;return(0,l.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:c,onSubmit:h},[null==(e=n.default)?void 0:e.call(n,r)])})),(0,i.Z)(r,d)}})},8521:function(e,t,n){n.d(t,{D:function(){return m}});n(6699),n(8099);var l=n(1138),a=n(7139),s=n(3396),o=n(1107);const u=["sm","md","lg","xl","xxl"],i=(()=>u.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),r=(()=>u.reduce(((e,t)=>(e["offset"+(0,a.kC)(t)]={type:[String,Number],default:null},e)),{}))(),d=(()=>u.reduce(((e,t)=>(e["order"+(0,a.kC)(t)]={type:[String,Number],default:null},e)),{}))(),c={col:Object.keys(i),offset:Object.keys(r),order:Object.keys(d)};function h(e,t,n){let l=e;if(null!=n&&!1!==n){if(t){const n=t.replace(e,"");l+=`-${n}`}return"col"===e&&(l="v-"+l),"col"!==e||""!==n&&!0!==n?(l+=`-${n}`,l.toLowerCase()):l.toLowerCase()}}const m=(0,o.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...i,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},...(0,l.Q)()},setup(e,t){let{slots:n}=t;const l=(0,s.Fl)((()=>{const t=[];let n;for(n in c)c[n].forEach((l=>{const a=e[l],s=h(n,l,a);s&&t.push(s)}));const l=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>{var t;return(0,s.h)(e.tag,{class:l.value},null==(t=n.default)?void 0:t.call(n))}}})}}]);
//# sourceMappingURL=603.632be444.js.map