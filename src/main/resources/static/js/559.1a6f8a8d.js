"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[559],{8099:function(){},9164:function(e,l,t){t.d(l,{Z:function(){return b}});var a=t(3396),o=t(9242),s=t(7139),u=t(8521),n=t(1991);const r=e=>((0,a.dD)("data-v-b79a30fa"),e=e(),(0,a.Cn)(),e),c={class:"auth-contain"},d={key:0,class:"auth-box"},i=r((()=>(0,a._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),h={class:"auth"},p={class:"timer"};function m(e,l,t,r,m,f){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(u.D,{cols:"12"},{default:(0,a.w5)((()=>[!0===m.auth.phoneAuthState?((0,a.wg)(),(0,a.iD)("div",d,[i,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=e=>m.auth.authInput=e),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[o.nr,m.auth.authInput]]),(0,a._)("p",p,(0,s.zw)(String(Math.floor(m.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,s.zw)(String(Math.floor(m.auth.authCounter/1e3%60)).padStart(2,"0")),1),(0,a._)("button",{class:"auth-complete-btn",onClick:l[1]||(l[1]=l=>e.$emit("authRes",m.auth.authRes))},"확인")])])):(0,a.kq)("",!0),(0,a.Wm)(n.h,{modelValue:e.c_phonenum,"onUpdate:modelValue":l[2]||(l[2]=l=>e.c_phonenum=l),label:"핸드폰 번호",rules:e.c_phonenum_rule},null,8,["modelValue","rules"]),(0,a._)("button",{class:"auth-button",onClick:l[3]||(l[3]=e=>f.authState())},"인증 번호 받기")])),_:1})])}var f={data(){return{auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0,authRes:!0}}},unmounted(){this.auth.authCounter=0},methods:{authState(){this.c_phonenum.length>=8?(this.auth.phoneAuthState=!0,axios.post(),setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},_=t(89);const g=(0,_.Z)(f,[["render",m],["__scopeId","data-v-b79a30fa"]]);var b=g},3559:function(e,l,t){t.r(l),t.d(l,{default:function(){return x}});var a=t(3396),o=t(7139),s=t(9242),u=t(6422),n=t(8521),r=t(1991);const c=e=>((0,a.dD)("data-v-5c7f9b78"),e=e(),(0,a.Cn)(),e),d={class:"welcome-header1"},i=c((()=>(0,a._)("h1",{class:"welcome-header__title1"},"따 과 농 가",-1))),h={class:"welcome-header__text1"},p={class:"login_keep_wrap",id:"login_keep_wrap"},m={class:"keep_check"},f=c((()=>(0,a._)("label",{id:"consumer-text",for:"consumer"},"소비자",-1))),_=c((()=>(0,a._)("br",null,null,-1))),g=c((()=>(0,a._)("label",{class:"farm-text",for:"farm"},"농가",-1))),b=c((()=>(0,a._)("br",null,null,-1))),w=c((()=>(0,a._)("div",{class:"back"},null,-1))),v={class:"inner"},y=c((()=>(0,a._)("h2",{class:"title"},"비밀번호 변경",-1))),k=c((()=>(0,a._)("button",{class:"pw-change-btn"},"비밀번호 변경 완료!",-1)));function V(e,l,t,c,V,S){const C=(0,a.up)("Auth");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("header",d,[i,(0,a._)("p",h,(0,o.zw)("/login/searchId"===e.$route.path?"아이디 찾기":"비밀번호 찾기"),1)]),(0,a.Wm)(u.O,{class:"form-contain",ref:"form",modelValue:V.valid,"onUpdate:modelValue":l[5]||(l[5]=e=>V.valid=e),"lazy-validation":"",onSubmit:(0,s.iM)(e.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",m,[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":l[0]||(l[0]=e=>V.checkUser=e)},null,512),[[s.G2,V.checkUser]]),f]),_,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":l[1]||(l[1]=e=>V.checkUser=e)},null,512),[[s.G2,V.checkUser]]),g]),b])]),(0,a.Wm)(r.h,{modelValue:V.name,"onUpdate:modelValue":l[2]||(l[2]=e=>V.name=e),rules:V.emailRules,label:"이름",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(r.h,{style:(0,o.j5)(["/login/searchId"===e.$route.path?{display:"block"}:{display:"none"}]),modelValue:V.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>V.phone=e),rules:V.emailRules,label:"핸드폰 번호",required:""},null,8,["style","modelValue","rules"]),(0,a.Wm)(r.h,{style:(0,o.j5)(["/login/searchId"===e.$route.path?{display:"none"}:{display:"block"}]),modelValue:V.email,"onUpdate:modelValue":l[4]||(l[4]=e=>V.email=e),rules:V.emailRules,label:"E-mail",required:""},null,8,["style","modelValue","rules"])])),_:1},8,["modelValue","onSubmit"]),(0,a._)("button",{class:"id-search-btn",style:(0,o.j5)(["/login/searchId"===e.$route.path?{display:"block"}:{display:"none"}])},"아이디 찾기",4),(0,a.Wm)(C,{style:(0,o.j5)(["/login/searchId"===e.$route.path?{display:"none"}:{display:"block"}]),onAuthRes:S.log},null,8,["style","onAuthRes"]),(0,a._)("div",{style:(0,o.j5)([!0===V.authModal?{display:"block"}:{display:"none"}]),class:"search-pw-input-box"},[w,(0,a._)("div",v,[y,(0,a.Wm)(n.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.h,{class:"inutBox",modelValue:V.passwd,"onUpdate:modelValue":l[6]||(l[6]=e=>V.passwd=e),label:"비밀번호*",type:"password",rules:V.c_passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(n.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.h,{class:"inutBox",modelValue:V.passwd_chk,"onUpdate:modelValue":l[7]||(l[7]=e=>V.passwd_chk=e),label:"비밀번호 확인*",type:"password",rules:V.c_passwd_rule2},null,8,["modelValue","rules"])])),_:1}),k])],4)])}var S=t(6265),C=t.n(S),U=t(9164),$={components:{Auth:U.Z},mounted(){console.log(this.$route.path)},data(){return{passwd:null,passwd_chk:null,valid:!1,checkUser:"consumer",name:null,email:null,phone:null,token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],loginButton:{title:["회원가입","아이디찾기","비밀번호 찾기"],url:["/clause","/searchId","searchPw"]},c_passwd_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],c_passwd_rule2:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",e=>e===this.c_passwd||"패스워드가 일치하지 않습니다."],authModal:!1}},methods:{login(){C().post("/api/login",{email:this.email,checkUser:this.checkUser,password:this.password}).then((e=>{console.log(e),""==e.data?(alert("아이디 또는 비밀번호가 틀렸습니다!"),console.log("....")):0==e.data.consumer_id?(alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!")):(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("login/TOKEN_SAVE",e.data.token),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"}))})).catch((e=>{console.log(e)}))},log(e){console.log(e),this.authModal=e,console.log(this.authModal)}}},I=t(89);const W=(0,I.Z)($,[["render",V],["__scopeId","data-v-5c7f9b78"]]);var x=W},8521:function(e,l,t){t.d(l,{D:function(){return p}});t(6699),t(8099);var a=t(1138),o=t(7139),s=t(3396),u=t(1107);const n=["sm","md","lg","xl","xxl"],r=(()=>n.reduce(((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e)),{}))(),c=(()=>n.reduce(((e,l)=>(e["offset"+(0,o.kC)(l)]={type:[String,Number],default:null},e)),{}))(),d=(()=>n.reduce(((e,l)=>(e["order"+(0,o.kC)(l)]={type:[String,Number],default:null},e)),{}))(),i={col:Object.keys(r),offset:Object.keys(c),order:Object.keys(d)};function h(e,l,t){let a=e;if(null!=t&&!1!==t){if(l){const t=l.replace(e,"");a+=`-${t}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==t&&!0!==t?(a+=`-${t}`,a.toLowerCase()):a.toLowerCase()}}const p=(0,u.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...c,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},...(0,a.Q)()},setup(e,l){let{slots:t}=l;const a=(0,s.Fl)((()=>{const l=[];let t;for(t in i)i[t].forEach((a=>{const o=e[a],s=h(t,a,o);s&&l.push(s)}));const a=l.some((e=>e.startsWith("v-col-")));return l.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l}));return()=>{var l;return(0,s.h)(e.tag,{class:a.value},null==(l=t.default)?void 0:l.call(t))}}})}}]);
//# sourceMappingURL=559.1a6f8a8d.js.map