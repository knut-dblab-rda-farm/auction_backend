"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[439,896],{7929:function(t,e,i){i.d(e,{Z:function(){return x}});var a=i(3396),s=i(7139);const l=t=>((0,a.dD)("data-v-0063bdd0"),t=t(),(0,a.Cn)(),t),n={class:"main_nav_t_div"},p={class:"main_t_nav"},r={class:"main_t_nav_list"},o=l((()=>(0,a._)("li",{class:"nav__btn"},[(0,a._)("a",{class:"nav__link",href:"alert"},[(0,a._)("i",{class:"fas fa-bell fa-2x","aria-hidden":"true"})])],-1))),d={class:"main_m_li_list"},u={class:"nav_m_link",href:"workout.html"},_={class:"nav__btn"},c=l((()=>(0,a._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),g=[c];function m(t,e,i,l,c,m){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("nav",p,[(0,a._)("ul",r,[o,(0,a._)("li",d,[(0,a._)("p",u,(0,s.zw)(i.headerProps),1)]),(0,a._)("li",_,[(0,a._)("a",{class:"nav__link",onClick:e[0]||(e[0]=e=>t.$router.go(-1))},g)])])])])}var h={props:{headerProps:String}},y=i(89);const k=(0,y.Z)(h,[["render",m],["__scopeId","data-v-0063bdd0"]]);var x=k},7149:function(t,e,i){i.r(e),i.d(e,{default:function(){return Dt}});var a=i(3396),s=i(9242),l=i(7139);const n=t=>((0,a.dD)("data-v-feb794f8"),t=t(),(0,a.Cn)(),t),p={class:"image-box"},r=n((()=>(0,a._)("h2",{class:"img-title"},"사진을 선택해주세요",-1))),o=n((()=>(0,a._)("br",null,null,-1))),d=n((()=>(0,a._)("div",{id:"image_container",class:"image_container"},[(0,a._)("label",{for:"product_img_files",class:"select-img"},"+")],-1))),u={class:"reg-contain"},_={class:"table-100 table-contain"},c=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"경매명",-1))),g={key:0,class:"table-100-0pky",colspan:"3"},m={key:1,class:"table-100-0pky",colspan:"3"},h={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},y=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"작물",-1))),k={key:0,class:"table-100-0pky",colspan:"3"},x={key:1,class:"table-100-0pky",colspan:"3"},f={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},b=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"중량",-1))),w={key:0,class:"table-100-0pky",colspan:"3"},D={key:1,class:"table-100-0pky",colspan:"3"},v={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},z=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"시작 가격",-1))),T={key:0,class:"table-100-0pky",colspan:"3"},P={key:1,class:"table-100-0pky",colspan:"3"},A={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},q=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"최대 가격",-1))),R={key:0,class:"table-100-0pky",colspan:"3"},U={key:1,class:"table-100-0pky",colspan:"3"},O={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},E=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"낙과 일자",-1))),N={key:0,class:"table-100-1pky",colspan:"3"},V={key:1,class:"table-100-0pky",colspan:"3"},C={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},I=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"마감일",-1))),$={key:0,class:"table-100-1pky",colspan:"3"},S={key:1,class:"table-100-0pky",colspan:"3"},G={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},Z=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"크기",-1))),F={key:0},H={class:"table-100-1pky"},J=(0,a.Uk)(" 소"),K={class:"table-100-1pky"},B=(0,a.Uk)(" 중"),L={class:"table-100-1pky"},M=(0,a.Uk)(" 대"),W={key:1,class:"table-100-0pky",colspan:"3"},j={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},Q=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"상태",-1))),X={key:0},Y={class:"table-100-1pky"},tt=(0,a.Uk)(" 상 "),et={class:"table-100-1pky"},it=(0,a.Uk)(" 중 "),at={class:"table-100-1pky"},st=(0,a.Uk)(" 하 "),lt={key:1,class:"table-100-0pky",colspan:"3"},nt={id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"}},pt=n((()=>(0,a._)("td",{class:"table-100-tyfk"},"설명",-1))),rt={key:0,class:"table-100-0pky",colspan:"3"},ot={key:1,class:"table-100-0pky",colspan:"3"},dt={class:"main_nav_b_div"},ut={class:"main_b_nav"},_t={class:"main_m_ui_list"},ct={class:"nav__btn"},gt={class:"nav__link",href:"#"};function mt(t,e,i,n,mt,ht){const yt=(0,a.up)("Header");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(yt,{headerProps:mt.headerProps},null,8,["headerProps"]),(0,a._)("div",p,[r,(0,a._)("input",{multiple:"multiple",style:{display:"'none'"},onChange:e[0]||(e[0]=t=>ht.imgPreview(t)),class:"select-img-hidden",type:"file",id:"product_img_files",name:"product_img_files",accept:"image/*"},null,32),o,d]),(0,a._)("fieldset",u,[(0,a._)("table",_,[(0,a._)("tbody",null,[(0,a._)("tr",null,[c,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",g,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"경매명을 입력해주세요","onUpdate:modelValue":e[1]||(e[1]=t=>mt.auction_name=t)},null,512),[[s.nr,mt.auction_name]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",m,[(0,a._)("p",h,(0,l.zw)(mt.auction.auction_name),1)]))]),(0,a._)("tr",null,[y,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",k,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"작물을 입력해주세요","onUpdate:modelValue":e[2]||(e[2]=t=>mt.product=t)},null,512),[[s.nr,mt.product]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",x,[(0,a._)("p",f,(0,l.zw)(mt.auction.productDTO.product),1)]))]),(0,a._)("tr",null,[b,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",w,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"kg   (숫자만 입력 가능합니다.)","onUpdate:modelValue":e[3]||(e[3]=t=>mt.product_kg=t)},null,512),[[s.nr,mt.product_kg]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",D,[(0,a._)("p",v,(0,l.zw)(mt.auction.productDTO.product_kg),1)]))]),(0,a._)("tr",null,[z,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",T,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"원   (숫자만 입력 가능합니다.)","onUpdate:modelValue":e[4]||(e[4]=t=>mt.p_starting_price=t)},null,512),[[s.nr,mt.p_starting_price]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",P,[(0,a._)("p",A,(0,l.zw)(mt.auction.a_starting_price),1)]))]),(0,a._)("tr",null,[q,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",R,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"원   (숫자만 입력 가능합니다.)","onUpdate:modelValue":e[5]||(e[5]=t=>mt.p_max_price=t)},null,512),[[s.nr,mt.p_max_price]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",U,[(0,a._)("p",O,(0,l.zw)(mt.auction.a_max_price),1)]))]),(0,a._)("tr",null,[E,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",N,[(0,a.wy)((0,a._)("input",{type:"datetime-local","onUpdate:modelValue":e[6]||(e[6]=t=>mt.p_drop_date=t)},null,512),[[s.nr,mt.p_drop_date]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",V,[(0,a._)("p",C,(0,l.zw)(mt.auction.productDTO.p_drop_date.slice(0,16)),1)]))]),(0,a._)("tr",null,[I,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",$,[(0,a.wy)((0,a._)("input",{type:"datetime-local","onUpdate:modelValue":e[7]||(e[7]=t=>mt.deadline_date=t)},null,512),[[s.nr,mt.deadline_date]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",S,[(0,a._)("p",G,(0,l.zw)(mt.auction.deadline_date.slice(0,16)),1)]))]),(0,a._)("tr",null,[Z,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("td",H,[(0,a.wy)((0,a._)("input",{type:"radio",name:"size","onUpdate:modelValue":e[8]||(e[8]=t=>mt.size=t),value:"소"},null,512),[[s.G2,mt.size]]),J]),(0,a._)("td",K,[(0,a.wy)((0,a._)("input",{type:"radio",name:"size","onUpdate:modelValue":e[9]||(e[9]=t=>mt.size=t),value:"중"},null,512),[[s.G2,mt.size]]),B]),(0,a._)("td",L,[(0,a.wy)((0,a._)("input",{type:"radio",name:"size","onUpdate:modelValue":e[10]||(e[10]=t=>mt.size=t),value:"대"},null,512),[[s.G2,mt.size]]),M])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",W,[(0,a._)("p",j,(0,l.zw)(mt.auction.productDTO.size),1)]))]),(0,a._)("tr",null,[Q,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("td",Y,[(0,a.wy)((0,a._)("input",{type:"radio",name:"status","onUpdate:modelValue":e[11]||(e[11]=t=>mt.p_status=t),value:"상"},null,512),[[s.G2,mt.p_status]]),tt]),(0,a._)("td",et,[(0,a.wy)((0,a._)("input",{type:"radio",name:"status","onUpdate:modelValue":e[12]||(e[12]=t=>mt.p_status=t),value:"중"},null,512),[[s.G2,mt.p_status]]),it]),(0,a._)("td",at,[(0,a.wy)((0,a._)("input",{type:"radio",name:"status","onUpdate:modelValue":e[13]||(e[13]=t=>mt.p_status=t),value:"하"},null,512),[[s.G2,mt.p_status]]),st])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",lt,[(0,a._)("p",nt,(0,l.zw)(mt.auction.productDTO.p_status),1)]))]),(0,a._)("tr",null,[pt,mt.isAuctionRegistPage?((0,a.wg)(),(0,a.iD)("td",rt,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"작물의 세부사항을 적어주세요","onUpdate:modelValue":e[14]||(e[14]=t=>mt.p_explanation=t)},null,512),[[s.nr,mt.p_explanation]])])):(0,a.kq)("",!0),mt.isAuctionRegistPage?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",ot,[(0,a.wy)((0,a._)("input",{id:"td_input_text",type:"text",name:"text",size:"20",style:{width:"100%"},required:"",placeholder:"작물의 세부사항을 적어주세요","onUpdate:modelValue":e[15]||(e[15]=t=>mt.auction.productDTO.p_explanation=t)},null,512),[[s.nr,mt.auction.productDTO.p_explanation]])]))])])])]),(0,a._)("div",dt,[(0,a._)("nav",ut,[(0,a._)("ul",_t,[(0,a._)("li",ct,[(0,a._)("a",gt,[(0,a._)("button",{class:"user-component__title",onClick:e[16]||(e[16]=t=>ht.submitAuction())},(0,l.zw)(mt.auctionSubmit),1)])])])])])])}var ht=i(6265),yt=i.n(ht),kt=i(7929),xt=i(880),ft={components:{Header:kt.Z,Slide:xt["default"]},name:"submitProduct",data(){return{headerProps:"/auction_reg"==this.$route.path?"경매 등록":"경매 수정",auctionSubmit:"/auction_reg"==this.$route.path?"등록하기":"수정하기",isAuctionRegistPage:"/auction_reg"==this.$route.path,auction:JSON.parse(localStorage.getItem("auction")),auction_name:null,p_name:null,product:null,product_kg:null,p_starting_price:null,p_max_price:null,p_drop_date:null,deadline_date:null,size:null,p_status:null,p_explanation:null,product_img_files:[],user:JSON.parse(localStorage.getItem("user")),auctionId:0,blankErrorText:"모두 작성해주셔야 합니다!",numberErrorText:"중량, 시작가, 최대가는 숫자만 입력 가능합니다!",auctionPriceErrorText:"시작가는 최대가격 보다 작아야 합니다!",auctionDropDateErrorText:"낙과일자는 현재 시간 이전이어야 합니다!",auctionDeadlineDateErrorText:"경매 마감일자는 최소 현재시간보다 5분 이후이어야 합니다.!",auctionRegistText:"경매 등록하시겠습까?\n주의사항: 경매 삭제는 마감시간 기준 4시간 이전 경매만 가능합니다.",productUpdateText:"상품 내용을 수정하시겠습까?",FIVE_MINUTE:3e5}},mounted(){null==this.user.farm_id&&(alert("농가회원이 아닙니다!"),this.$router.go(-1)),console.log(this.$route.params.id),"/auction_reg"!==this.$route.path&&console.log(this.auction)},methods:{imgPreview(t){console.log(t.target.files);for(let e in t.target.files){let i=new FileReader;i.onload=function(t){let e=document.createElement("img");e.setAttribute("src",t.target.result),e.setAttribute("width","80px"),e.setAttribute("height","80px"),document.getElementById("image_container").appendChild(e)},console.log(t.target.files[e]),i.readAsDataURL(t.target.files[e]),this.product_img_files.push(t.target.files[e])}console.log(this.product_img_files)},submitAuction(){let t=new FormData;if(console.log(this.isAuctionRegistPage),!this.isAuctionRegistPage){if(this.product_img_files.length<1)return void alert("이미지 파일이 없습니다.");if(!confirm(this.productUpdateText))return;console.log(this.product_img_files.files);for(let e=0;e<this.product_img_files.length;e++)t.append("product_img_files",this.product_img_files[e]);return t.append("product_id",this.auction.product_id),t.append("product_img_name",this.auction.productDTO.product_img_name),t.append("p_explanation",this.auction.productDTO.p_explanation),void yt().patch("/api/product",t,{headers:{TOKEN:this.user.token,"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("수정 완료!"),this.$router.push("/auction")})).catch((t=>{console.log(t)}))}if(null==this.auction_name||null==this.product||null==this.product_kg||null==this.p_starting_price||null==this.p_max_price||null==this.p_drop_date||null==this.deadline_date||null==this.size||null==this.p_status||null==this.p_explanation)return alert(this.blankErrorText);if(""==this.auction_name||""==this.product||""==this.product_kg||""==this.p_starting_price||""==this.p_max_price||""==this.p_drop_date||""==this.deadline_date||""==this.size||""==this.p_status||""==this.p_explanation)return alert(this.blankErrorText);if(!this.isNumber(this.product_kg)||!this.isNumber(this.p_starting_price)||!this.isNumber(this.p_max_price))return alert(this.numberErrorText);if(Number(this.p_max_price)<Number(this.p_starting_price))return alert(this.auctionPriceErrorText);let e=new Date;if(new Date(this.p_drop_date)>e)return alert(this.auctionDropDateErrorText);if(confirm(this.auctionRegistText))if(console.log("p_drop_date : "+this.p_drop_date),console.log("deadline_date : "+this.deadline_date),this.product_img_files.length<1)alert("이미지 파일이 없습니다.");else{for(let e=0;e<this.product_img_files.length;e++)console.log(this.product_img_files[e]),t.append("productDTO.product_img_files",this.product_img_files[e]);t.append("auction_name",this.auction_name),t.append("productDTO.product",this.product),t.append("productDTO.product_kg",this.product_kg),t.append("productDTO.p_drop_date",this.p_drop_date),t.append("productDTO.size",this.size),t.append("productDTO.p_status",this.p_status),t.append("productDTO.p_explanation",this.p_explanation),t.append("a_starting_price",this.p_starting_price),t.append("bid_price",this.p_starting_price),t.append("a_max_price",this.p_max_price),t.append("deadline_date",this.deadline_date),t.append("farm_id",this.user.farm_id),t.append("f_farm_name",this.user.f_farm_name);for(let e of t)console.log(e);yt().post("/api/registAuction",t,{headers:{TOKEN:this.user.token,"Content-Type":"multipart/form-data"}}).then((t=>{alert("등록 완료!"),this.$router.push("/auction")})).catch((t=>{console.log(t)}))}},isNumber(t){if(Number.isNaN(t))return!1;let e=Number(t);return!!Number.isInteger(e)&&e>0}}},bt=i(89);const wt=(0,bt.Z)(ft,[["render",mt],["__scopeId","data-v-feb794f8"]]);var Dt=wt}}]);
//# sourceMappingURL=439.9d0c914f.js.map