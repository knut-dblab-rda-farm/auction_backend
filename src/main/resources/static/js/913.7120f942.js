"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[913],{8099:function(){},2225:function(e,t,l){l.d(t,{Z:function(){return w}});var a=l(3396),n=l(9242),o=l(7139),s=l(8521),u=l(1991);const i=e=>((0,a.dD)("data-v-7ab8d834"),e=e(),(0,a.Cn)(),e),r={class:"auth-contain"},d={key:0,class:"auth-box"},h=i((()=>(0,a._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),c={class:"auth"},p={class:"timer"};function m(e,t,l,i,m,f){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(s.D,{cols:"12"},{default:(0,a.w5)((()=>[!0===m.auth.phoneAuthState?((0,a.wg)(),(0,a.iD)("div",d,[h,(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>m.auth.authInput=e),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[n.nr,m.auth.authInput]]),(0,a._)("p",p,(0,o.zw)(String(Math.floor(m.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,o.zw)(String(Math.floor(m.auth.authCounter/1e3%60)).padStart(2,"0")),1),(0,a._)("button",{class:"auth-complete-btn",onClick:t[1]||(t[1]=t=>e.$emit("authRes",{authInput:this.auth.authInput,id:this.id,phoneAuthNumber:this.phoneAuthNumber,phonenum:this.phonenum}))},"확인")])])):(0,a.kq)("",!0),(0,a.Wm)(u.h,{modelValue:m.phonenum,"onUpdate:modelValue":t[2]||(t[2]=e=>m.phonenum=e),label:"핸드폰 번호",rules:e.phonenum_rule},null,8,["modelValue","rules"]),(0,a._)("button",{class:"auth-button",onClick:t[3]||(t[3]=e=>f.authState())},"인증 번호 받기")])),_:1})])}var f=l(6265),b=l.n(f),_={props:{info:{checkUser:String,name:String,email:String}},data(){return{auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0,authRes:!0},id:null,phoneAuthNumber:null,phonenum:null}},unmounted(){this.auth.authCounter=0},methods:{authState(){console.log(this.info),console.log(this.phonenum),this.phonenum.length>=8?(this.auth.phoneAuthState=!0,b().post("/api/findPassword",{checkUser:this.info.checkUser,name:this.info.name,email:this.info.email,phonenum:this.phonenum}).then((e=>{console.log(e.data),this.id=e.data.id,this.phoneAuthNumber=e.data.phoneAuthNumber})).catch((e=>{console.log(e)})),setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},g=l(89);const v=(0,g.Z)(_,[["render",m],["__scopeId","data-v-7ab8d834"]]);var w=v},7913:function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var a=l(3396),n=l(7139),o=l(9242),s=l(6422),u=l(8521),i=l(1991);const r=e=>((0,a.dD)("data-v-71bbc7e4"),e=e(),(0,a.Cn)(),e),d={class:"welcome-header1"},h=r((()=>(0,a._)("h1",{class:"welcome-header__title1"},"따 과 농 가",-1))),c={class:"welcome-header__text1"},p={class:"login_keep_wrap",id:"login_keep_wrap"},m={class:"keep_check"},f=r((()=>(0,a._)("label",{id:"consumer-text",for:"consumer"},"소비자",-1))),b=r((()=>(0,a._)("br",null,null,-1))),_=r((()=>(0,a._)("label",{class:"farm-text",for:"farm"},"농가",-1))),g=r((()=>(0,a._)("br",null,null,-1))),v=r((()=>(0,a._)("div",{class:"back"},null,-1))),w={class:"inner"},k=r((()=>(0,a._)("h2",{class:"title"},"비밀번호 변경",-1)));function y(e,t,l,r,y,S){const V=(0,a.up)("Auth");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("header",d,[h,(0,a._)("p",c,(0,n.zw)("/login/searchId"===e.$route.path?"아이디 찾기":"비밀번호 찾기"),1)]),(0,a.Wm)(s.O,{class:"form-contain",ref:"form",modelValue:y.valid,"onUpdate:modelValue":t[5]||(t[5]=e=>y.valid=e),"lazy-validation":"",onSubmit:(0,o.iM)(e.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",m,[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":t[0]||(t[0]=e=>y.info.checkUser=e)},null,512),[[o.G2,y.info.checkUser]]),f]),b,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":t[1]||(t[1]=e=>y.info.checkUser=e)},null,512),[[o.G2,y.info.checkUser]]),_]),g])]),(0,a.Wm)(i.h,{modelValue:y.info.name,"onUpdate:modelValue":t[2]||(t[2]=e=>y.info.name=e),label:"이름",required:""},null,8,["modelValue"]),(0,a.Wm)(i.h,{style:(0,n.j5)(["/login/searchId"===e.$route.path?{display:"block"}:{display:"none"}]),modelValue:y.info.phonenum,"onUpdate:modelValue":t[3]||(t[3]=e=>y.info.phonenum=e),label:"핸드폰 번호",required:""},null,8,["style","modelValue"]),(0,a.Wm)(i.h,{style:(0,n.j5)(["/login/searchId"===e.$route.path?{display:"none"}:{display:"block"}]),modelValue:y.info.email,"onUpdate:modelValue":t[4]||(t[4]=e=>y.info.email=e),rules:y.emailRules,label:"E-mail",required:""},null,8,["style","modelValue","rules"])])),_:1},8,["modelValue","onSubmit"]),(0,a._)("button",{class:"id-search-btn",style:(0,n.j5)(["/login/searchId"===e.$route.path?{display:"block"}:{display:"none"}]),onClick:t[6]||(t[6]=e=>S.findId())},"아이디 찾기",4),(0,a.Wm)(V,{info:y.info,style:(0,n.j5)(["/login/searchId"===e.$route.path?{display:"none"}:{display:"block"}]),onAuthRes:S.log},null,8,["info","style","onAuthRes"]),(0,a._)("div",{style:(0,n.j5)([!0===y.authModal?{display:"block"}:{display:"none"}]),class:"search-pw-input-box"},[v,(0,a._)("div",w,[k,(0,a.Wm)(u.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(i.h,{class:"inutBox",modelValue:y.passwd,"onUpdate:modelValue":t[7]||(t[7]=e=>y.passwd=e),label:"비밀번호*",type:"password",rules:y.c_passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(u.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(i.h,{class:"inutBox",modelValue:y.passwd_chk,"onUpdate:modelValue":t[8]||(t[8]=e=>y.passwd_chk=e),label:"비밀번호 확인*",type:"password",rules:y.c_passwd_rule2},null,8,["modelValue","rules"])])),_:1}),(0,a._)("button",{class:"pw-change-btn",onClick:t[9]||(t[9]=e=>S.updatePassword())},"비밀번호 변경 완료!")])],4)])}var S=l(6265),V=l.n(S),U=l(2225),C={components:{Auth:U.Z},mounted(){console.log(this.$route.path)},data(){return{passwd:null,passwd_chk:null,valid:!1,info:{checkUser:"consumer",name:null,email:null,phonenum:null},token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],loginButton:{title:["회원가입","아이디찾기","비밀번호 찾기"],url:["/clause","/searchId","searchPw"]},c_passwd_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],c_passwd_rule2:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",e=>e===this.c_passwd||"패스워드가 일치하지 않습니다."],authModal:!1,phoneAuthNumber:null,id:null}},methods:{findId(){V().post("/api/findEmail",{checkUser:this.info.checkUser,name:this.info.name,phonenum:this.info.phonenum}).then((e=>{console.log(e.data),""==e.data?alert("이름 또는 핸드폰 번호가 틀렸습니다!"):alert(`회원님의 이메일은 ${e.data}입니다.`)})).catch((e=>{console.log(e)}))},log(e){console.log("event: ",e),e.authInput==e.phoneAuthNumber?(this.authModal=!0,this.id=e.id,alert("인증 완료되었습니다.")):alert("인증번호가 맞지 않습니다!"),console.log("this.authModal: ",this.authModal),console.log(authCounter)},updatePassword(){console.log(),this.passwd==this.passwd_chk?V().patch("/api/memberPassword",{checkUser:this.info.checkUser,id:this.id,passwd:this.passwd}).then((e=>{console.log(e.data),0==e.data.consumer_id?(alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!")):(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("TOKEN_SAVE",e.data.token),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"}))})).catch((e=>{console.log(e)})):alert("비밀번호가 같지 않습니다!")}}},I=l(89);const A=(0,I.Z)(C,[["render",y],["__scopeId","data-v-71bbc7e4"]]);var N=A},6422:function(e,t,l){l.d(t,{O:function(){return r}});var a=l(3396),n=l(4357),o=l(4870),s=l(1107),u=l(9888),i=l(6199);const r=(0,s.a)({name:"VForm",props:{...(0,n.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:l,emit:s}=t;const r=(0,n.Np)(e),d=(0,o.iH)();function h(e){e.preventDefault(),r.reset()}function c(e){const t=e,l=r.validate();t.then=l.then.bind(l),t.catch=l.catch.bind(l),t.finally=l.finally.bind(l),s("submit",t),t.defaultPrevented||l.then((e=>{let{valid:t}=e;var l;t&&(null==(l=d.value)||l.submit())})),t.preventDefault()}return(0,u.L)((()=>{var e;return(0,a.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:h,onSubmit:c},[null==(e=l.default)?void 0:e.call(l,r)])})),(0,i.Z)(r,d)}})},8521:function(e,t,l){l.d(t,{D:function(){return p}});l(6699),l(8099);var a=l(1138),n=l(7139),o=l(3396),s=l(1107);const u=["sm","md","lg","xl","xxl"],i=(()=>u.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),r=(()=>u.reduce(((e,t)=>(e["offset"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),d=(()=>u.reduce(((e,t)=>(e["order"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),h={col:Object.keys(i),offset:Object.keys(r),order:Object.keys(d)};function c(e,t,l){let a=e;if(null!=l&&!1!==l){if(t){const l=t.replace(e,"");a+=`-${l}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==l&&!0!==l?(a+=`-${l}`,a.toLowerCase()):a.toLowerCase()}}const p=(0,s.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...i,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},...(0,a.Q)()},setup(e,t){let{slots:l}=t;const a=(0,o.Fl)((()=>{const t=[];let l;for(l in h)h[l].forEach((a=>{const n=e[a],o=c(l,a,n);o&&t.push(o)}));const a=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>{var t;return(0,o.h)(e.tag,{class:a.value},null==(t=l.default)?void 0:t.call(l))}}})}}]);
//# sourceMappingURL=913.7120f942.js.map