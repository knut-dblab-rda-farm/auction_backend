"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[959],{8099:function(){},2462:function(e,t,o){o.d(t,{Z:function(){return b}});var s=o(3396),n=o(7139),l=o(3289);const a=e=>((0,s.dD)("data-v-7f00408a"),e=e(),(0,s.Cn)(),e),r={class:"header"},c={class:"navLi"},i=(0,s.Uk)("mdi-home"),d={class:"navLi"},u={class:"navLi"},m=a((()=>(0,s._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),_=[m];function p(e,t,o,a,m,p){const h=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",r,[(0,s._)("nav",null,[(0,s._)("li",c,[(0,s.Wm)(h,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Wm)(l.t,null,{default:(0,s.w5)((()=>[i])),_:1})])),_:1})]),(0,s._)("li",d,(0,n.zw)(o.headerProps),1),(0,s._)("li",u,[(0,s._)("p",{class:"nav__link",onClick:t[0]||(t[0]=e=>p.goBack())},_)])])])}var h={props:{headerProps:String},methods:{goBack(){this.$router.go(-1)}}},g=o(89);const f=(0,g.Z)(h,[["render",p],["__scopeId","data-v-7f00408a"]]);var b=f},2635:function(e,t,o){o.d(t,{Z:function(){return h}});var s=o(3396),n=o(8521);const l=e=>((0,s.dD)("data-v-595c3961"),e=e(),(0,s.Cn)(),e),a={class:"auth-contain"},r={class:"auth-box"},c=l((()=>(0,s._)("input",{type:"text",id:"postcode",class:"information-form__input",placeholder:"우편번호"},null,-1))),i=l((()=>(0,s._)("input",{type:"text",id:"roadAddress",class:"information-form__input2",placeholder:"도로명 주소"},null,-1))),d=l((()=>(0,s._)("br",null,null,-1)));function u(e,t,o,l,u,m){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(n.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("button",{class:"auth-complete-btn",onClick:t[0]||(t[0]=e=>m.search())},"주소 검색"),c,i,d]),(0,s._)("button",{class:"auth-button",onClick:t[1]||(t[1]=t=>e.$emit("searchAddressRes",{zipcode:this.zipcode,address:this.address}))},"주소 확인")])),_:1})])}var m={props:{addressInfo:{zipcode:String,address:String}},data(){return{zipcode:"",address:""}},mounted(){console.log("addressInfo: "+this.addressInfo.zipcode),0!=this.addressInfo.zipcode&&(document.getElementById("postcode").value="우편번호 "+this.addressInfo.zipcode,document.getElementById("roadAddress").value="주소 "+this.addressInfo.address)},methods:{search(){new window.daum.Postcode({oncomplete:e=>{var t=e.roadAddress,o="";""!==e.bname&&/[동|로|가]$/g.test(e.bname)&&(o+=e.bname),""!==e.buildingName&&"Y"===e.apartment&&(o+=""!==o?", "+e.buildingName:e.buildingName),""!==o&&(o=" ("+o+")"),document.getElementById("postcode").value="우편번호 "+e.zonecode,document.getElementById("roadAddress").value="주소 "+t,this.zipcode=e.zonecode,this.address=t}}).open()}}},_=o(89);const p=(0,_.Z)(m,[["render",u],["__scopeId","data-v-595c3961"]]);var h=p},959:function(e,t,o){o.r(t),o.d(t,{default:function(){return R}});var s=o(3396),n=o(9242),l=o(7139),a=o(6422),r=o(1991);const c=e=>((0,s.dD)("data-v-5933eca7"),e=e(),(0,s.Cn)(),e),i=c((()=>(0,s._)("header",{class:"n-section-title first info_views-area"},[(0,s._)("h1",{class:"tit"},"회원정보")],-1))),d={class:"n-table table-row my-info-modify"},u=c((()=>(0,s._)("colgroup",null,[(0,s._)("col",{style:{width:"25%"}}),(0,s._)("col",{style:{width:"40%"}}),(0,s._)("col",{style:{width:"35%"}})],-1))),m=c((()=>(0,s._)("th",{scope:"row"},[(0,s._)("strong",null,"이메일")],-1))),_=c((()=>(0,s._)("th",{scope:"row"},[(0,s._)("strong",null,"비밀번호")],-1))),p=c((()=>(0,s._)("td",null," ******** ",-1))),h={key:0},g=c((()=>(0,s._)("td",null,null,-1))),f=c((()=>(0,s._)("th",{scope:"row"},[(0,s._)("strong",null,"휴대폰번호")],-1))),b={key:1},w=c((()=>(0,s._)("td",null,null,-1))),S=c((()=>(0,s._)("tr",null,null,-1))),v={class:"my-info-img",id:"profile-image-area"},k=c((()=>(0,s._)("th",{scope:"row"},[(0,s._)("strong",null,"프로필 사진")],-1))),y=["src"],I={width:"65%"},N={key:2},z=c((()=>(0,s._)("br",null,null,-1))),C=c((()=>(0,s._)("div",{id:"image_container",class:"image_container"},[(0,s._)("p",{class:"change_img_title"},"바뀔 이미지")],-1))),O=c((()=>(0,s._)("th",{scope:"row"},[(0,s._)("strong",null,"회원명")],-1))),U={key:3},A=c((()=>(0,s._)("td",null,null,-1)));function D(e,t,o,c,D,E){const V=(0,s.up)("Header"),J=(0,s.up)("SearchAddress"),P=(0,s.up)("bottomNav");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",null,[(0,s.Wm)(V,{headerProps:D.headerProps},null,8,["headerProps"]),i,(0,s.Wm)(a.O,{ref:"form",modelValue:e.profile,"onUpdate:modelValue":t[13]||(t[13]=t=>e.profile=t),"lazy-validation":"",onSubmit:t[14]||(t[14]=(0,n.iM)((()=>{}),["prevent"]))},{default:(0,s.w5)((()=>[(0,s._)("table",d,[u,(0,s._)("tbody",null,[(0,s._)("tr",null,[m,(0,s._)("td",null,(0,l.zw)(D.user.c_email),1)]),(0,s._)("tr",null,[_,p,(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>E.c_passwd_show&&E.c_passwd_show(...e)),class:"n-btn w100 btn-sm btn-default"},"비밀번호 수정")])]),D.isShow1?((0,s.wg)(),(0,s.iD)("tr",h,[g,(0,s.Wm)(r.h,{modelValue:D.c_passwd,"onUpdate:modelValue":t[1]||(t[1]=e=>D.c_passwd=e),label:"",required:""},null,8,["modelValue"]),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[2]||(t[2]=e=>E.update_consumer_member_c_passwd()),class:"n-btn w100 btn-sm btn-default"},"수정하기")])])):(0,s.kq)("",!0),(0,s._)("tr",null,[f,(0,s._)("td",null,(0,l.zw)(D.user.c_phonenum),1),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>E.c_phonenum_show&&E.c_phonenum_show(...e)),class:"n-btn w100 btn-sm btn-default"},"휴대폰번호 수정")])]),D.isShow2?((0,s.wg)(),(0,s.iD)("tr",b,[w,(0,s.Wm)(r.h,{modelValue:D.c_phonenum,"onUpdate:modelValue":t[4]||(t[4]=e=>D.c_phonenum=e),label:"",required:""},null,8,["modelValue"]),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[5]||(t[5]=e=>E.update_consumer_member_c_phonenum()),class:"n-btn w100 btn-sm btn-default"},"수정하기")])])):(0,s.kq)("",!0),S,(0,s._)("tr",v,[k,(0,s._)("td",null,[(0,s._)("div",null,[(0,s._)("img",{class:"img",src:""===D.c_profile_img?"https://image.msscdn.net/mfile_s01/_simbols/_basic/d.png":`/member_profile_images/${D.c_profile_img}.png`,alt:"프로필 이미지"},null,8,y)])]),(0,s._)("td",I,[(0,s._)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>E.c_profile_img_show&&E.c_profile_img_show(...e)),class:"n-btn w100 btn-sm btn-default"},"사진 수정")])]),D.isShow3?((0,s.wg)(),(0,s.iD)("tr",N,[(0,s._)("td",null,[(0,s._)("input",{multiple:"multiple",onChange:t[7]||(t[7]=e=>E.imgPreview(e)),class:"select-img-hidden",type:"file",id:"product_img_file",name:"product_img_file",accept:"image/*"},null,32),z,C]),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[8]||(t[8]=e=>E.update_consumer_member_c_img()),class:"n-btn w100 btn-sm btn-default"},"기본 이미지로 변경"),(0,s._)("button",{type:"button",onClick:t[9]||(t[9]=e=>E.update_consumer_member_c_img()),class:"n-btn w100 btn-sm btn-default"},"수정 하기")])])):(0,s.kq)("",!0),(0,s._)("tr",null,[O,(0,s._)("td",null,(0,l.zw)(D.c_name),1),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[10]||(t[10]=(...e)=>E.c_name_show&&E.c_name_show(...e)),class:"n-btn w100 btn-sm btn-default"},"회원명 수정")])]),D.isShow4?((0,s.wg)(),(0,s.iD)("tr",U,[A,(0,s.Wm)(r.h,{modelValue:D.c_name,"onUpdate:modelValue":t[11]||(t[11]=e=>D.c_name=e),label:"",required:""},null,8,["modelValue"]),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:t[12]||(t[12]=e=>E.update_consumer_member_c_name()),class:"n-btn w100 btn-sm btn-default"},"수정하기")])])):(0,s.kq)("",!0)])]),(0,s.Wm)(J,{addressInfo:D.addressInfo,onSearchAddressRes:E.searchAddressResult},null,8,["addressInfo","onSearchAddressRes"])])),_:1},8,["modelValue"])]),(0,s.Wm)(P)],64)}var E=o(2462),V=o(5483),J=o(6265),P=o.n(J),W=o(2635),B={components:{Header:E.Z,bottomNav:V["default"],SearchAddress:W.Z},data(){var e=localStorage.getItem("user.consumer_id")||"";return{headerProps:"개인정보 수정",pro_test:JSON.parse(localStorage.getItem("pro_test"))||"",user:JSON.parse(localStorage.getItem("user"))||"",addressInfo:{zipcode:JSON.parse(localStorage.getItem("user")).f_zipcode,address:JSON.parse(localStorage.getItem("user")).f_location},isShow1:!1,isShow2:!1,isShow3:!1,isShow4:!1,isShow5:!1,isShow6:!1,consumer_id:e,c_passwd:this.c_passwd,c_phonenum:this.c_phonenum,c_name:this.c_name,c_zipcode:this.c_zipcode,c_location:this.c_location,checkUser:"consumer",c_profile_img:JSON.parse(localStorage.getItem("user")).c_profile_img,new_profile_img:JSON.parse(localStorage.getItem("user")).new_profile_img}},mounted(){JSON.parse(localStorage.getItem("user")).consumer_id||(this.checkUser="farm")},methods:{searchAddressResult(e){console.log("event: ",e),this.addressInfo.zipcode=e.zipcode,this.addressInfo.location=e.address,P().patch("api/memberAddress",{checkUser:"consumer",id:this.user.consumer_id,zipcode:e.zipcode,location:e.address},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e.data),alert("주소 변경이 완료되었습니다!")})).catch((e=>{console.log(e)}))},c_passwd_show(){this.isShow1=!this.isShow1,console.log("passwd")},c_phonenum_show(){this.isShow2=!this.isShow2,console.log("num")},c_profile_img_show(){this.isShow3=!this.isShow3,console.log("img")},c_name_show(){this.isShow4=!this.isShow4,console.log("name")},c_zipcode_show(){this.isShow5=!this.isShow5,console.log("zip")},c_location_show(){this.isShow6=!this.isShow6,console.log("loc")},update_consumer_member_c_passwd(){console.log(this.checkUser,JSON.parse(localStorage.getItem("user")).consumer_id,this.c_passwd),P().patch("api/memberPassword",{checkUser:this.checkUser,id:JSON.parse(localStorage.getItem("user")).consumer_id,passwd:this.c_passwd},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},update_consumer_member_c_phonenum(){console.log(this.checkUser,JSON.parse(localStorage.getItem("user")).consumer_id,this.c_phonenum),console.log(typeof this.c_phonenum),P().patch("api/memberPhoneNumber",{checkUser:this.checkUser,id:JSON.parse(localStorage.getItem("user")).consumer_id,phonenum:this.c_phonenum},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},update_consumer_member_c_name(){P().patch("api/memberName",{checkUser:this.checkUser,id:JSON.parse(localStorage.getItem("user")).consumer_id,name:this.c_name},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},update_consumer_member_c_zipcode(){P().patch("api/memberAddress",{consumer_id:this.consumer_id,c_zipcode:this.c_zipcode},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},update_consumer_member_c_location(){P().patch("api/updateConsumerMember/location",{consumer_id:this.consumer_id,c_location:this.c_location},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},update_consumer_member_c_img(){let e=new FormData;this.product_img_file=document.getElementById("product_img_file"),this.new_profile_img=document.getElementById("product_img_file").files[0],console.log(this.product_img_file.files[0]),console.log(this.new_profile_img),e.append("checkUser","consumer"),e.append("id",this.user.consumer_id),e.append("profile_img",this.c_profile_img),e.append("new_profile_img",this.new_profile_img);for(let t of e)console.log(t);P().patch("/api/memberProfileImage",e,{headers:{TOKEN:this.user.token,"Content-Type":"multipart/form-data"}}).then((e=>{JSON.parse(localStorage.getItem("user")).c_profile_img=e.data,location.reload()})).catch((e=>{console.log(e)}))},imgPreview(e){let t=new FileReader;t.onload=function(e){let t=document.createElement("img");t.setAttribute("src",e.target.result),t.setAttribute("width","100px"),t.setAttribute("height","100px"),document.getElementById("image_container").appendChild(t)},t.readAsDataURL(e.target.files[0]),console.log(e.target.files[0])}}},$=o(89);const x=(0,$.Z)(B,[["render",D],["__scopeId","data-v-5933eca7"]]);var R=x},6422:function(e,t,o){o.d(t,{O:function(){return i}});var s=o(3396),n=o(4357),l=o(4870),a=o(1107),r=o(9888),c=o(6199);const i=(0,a.a)({name:"VForm",props:{...(0,n.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:o,emit:a}=t;const i=(0,n.Np)(e),d=(0,l.iH)();function u(e){e.preventDefault(),i.reset()}function m(e){const t=e,o=i.validate();t.then=o.then.bind(o),t.catch=o.catch.bind(o),t.finally=o.finally.bind(o),a("submit",t),t.defaultPrevented||o.then((e=>{let{valid:t}=e;var o;t&&(null==(o=d.value)||o.submit())})),t.preventDefault()}return(0,r.L)((()=>{var e;return(0,s.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:u,onSubmit:m},[null==(e=o.default)?void 0:e.call(o,i)])})),(0,c.Z)(i,d)}})},8521:function(e,t,o){o.d(t,{D:function(){return _}});o(6699),o(8099);var s=o(1138),n=o(7139),l=o(3396),a=o(1107);const r=["sm","md","lg","xl","xxl"],c=(()=>r.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),i=(()=>r.reduce(((e,t)=>(e["offset"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),d=(()=>r.reduce(((e,t)=>(e["order"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),u={col:Object.keys(c),offset:Object.keys(i),order:Object.keys(d)};function m(e,t,o){let s=e;if(null!=o&&!1!==o){if(t){const o=t.replace(e,"");s+=`-${o}`}return"col"===e&&(s="v-"+s),"col"!==e||""!==o&&!0!==o?(s+=`-${o}`,s.toLowerCase()):s.toLowerCase()}}const _=(0,a.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...c,offset:{type:[String,Number],default:null},...i,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},...(0,s.Q)()},setup(e,t){let{slots:o}=t;const s=(0,l.Fl)((()=>{const t=[];let o;for(o in u)u[o].forEach((s=>{const n=e[s],l=m(o,s,n);l&&t.push(l)}));const s=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>{var t;return(0,l.h)(e.tag,{class:s.value},null==(t=o.default)?void 0:t.call(o))}}})}}]);
//# sourceMappingURL=959.67229efd.js.map