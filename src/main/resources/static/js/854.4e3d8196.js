"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[854],{4854:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});var t=a(3396),o=a(9242),n=a(6422),s=a(1991);const r=(0,t._)("header",{class:"welcome-header1"},[(0,t._)("h1",{class:"welcome-header__title1"},"따 과 농 가"),(0,t._)("p",{class:"welcome-header__text1"},"우리들의 농가 따과농가")],-1),u={class:"login_keep_wrap",id:"login_keep_wrap"},i={class:"keep_check"},d=(0,t._)("label",{for:"consumer"},"소비자",-1),c=(0,t._)("br",null,null,-1),m=(0,t._)("label",{for:"farm"},"농가",-1),p=(0,t._)("br",null,null,-1),h=(0,t._)("button",{class:"login-form__btn",type:"submit"},"회원가입",-1);function f(e,l,a,f,_,v){const w=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",null,[r,(0,t.Wm)(n.O,{ref:"form",modelValue:_.valid,"onUpdate:modelValue":l[6]||(l[6]=e=>_.valid=e),"lazy-validation":"",onSubmit:(0,o.iM)(e.submitForm,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(s.h,{modelValue:_.email,"onUpdate:modelValue":l[0]||(l[0]=e=>_.email=e),rules:_.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,t.Wm)(s.h,{modelValue:_.password,"onUpdate:modelValue":l[1]||(l[1]=e=>_.password=e),"append-icon":_.show1?"mdi-eye":"mdi-eye-off",rules:[_.rules.required,_.rules.min],type:_.show1?"text":"password",name:"input-10-1",label:"Password",hint:"비밀번호는 최소 6글자 입니다",counter:"","onClick:append":l[2]||(l[2]=e=>_.show1=!_.show1)},null,8,["modelValue","append-icon","rules","type"]),(0,t._)("div",u,[(0,t._)("div",i,[(0,t.wy)((0,t._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":l[3]||(l[3]=e=>_.checkUser=e)},null,512),[[o.G2,_.checkUser]]),d,c,(0,t.wy)((0,t._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":l[4]||(l[4]=e=>_.checkUser=e)},null,512),[[o.G2,_.checkUser]]),m,p])]),(0,t._)("button",{class:"login-form__btn",type:"submit",onClick:l[5]||(l[5]=e=>v.login())},"로그인"),(0,t.Wm)(w,{to:"/clause"},{default:(0,t.w5)((()=>[h])),_:1})])),_:1},8,["modelValue","onSubmit"])])}var _=a(6265),v=a.n(_),w={data(){return{valid:!1,checkUser:"consumer",email:null,password:null,token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],rules:{required:e=>!!e||"비밀번호를 입력해주세요.",min:e=>e.length>=6||"비밀번호는 최소 6글자 입니다",emailMatch:()=>"The email and password you entered don't match"}}},methods:{login(){v().post("/api/login",{email:this.email,checkUser:this.checkUser,password:this.password}).then((e=>{console.log(e),""==e.data?(alert("아이디 또는 비밀번호가 틀렸습니다!"),console.log("....")):0==e.data.consumer_id?(alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!")):(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("TOKEN_SAVE",e.data.token),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"}))})).catch((e=>{console.log(e)}))}}},b=a(89);const k=(0,b.Z)(w,[["render",f]]);var g=k},6422:function(e,l,a){a.d(l,{O:function(){return i}});var t=a(3396),o=a(4357),n=a(4870),s=a(1107),r=a(9888),u=a(6199);const i=(0,s.a)({name:"VForm",props:{...(0,o.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:a,emit:s}=l;const i=(0,o.Np)(e),d=(0,n.iH)();function c(e){e.preventDefault(),i.reset()}function m(e){const l=e,a=i.validate();l.then=a.then.bind(a),l.catch=a.catch.bind(a),l.finally=a.finally.bind(a),s("submit",l),l.defaultPrevented||a.then((e=>{let{valid:l}=e;var a;l&&(null==(a=d.value)||a.submit())})),l.preventDefault()}return(0,r.L)((()=>{var e;return(0,t.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:c,onSubmit:m},[null==(e=a.default)?void 0:e.call(a,i)])})),(0,u.Z)(i,d)}})}}]);
//# sourceMappingURL=854.4e3d8196.js.map