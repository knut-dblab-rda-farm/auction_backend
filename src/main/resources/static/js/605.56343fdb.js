"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[605],{8099:function(){},2:function(t,e,l){l.d(e,{Z:function(){return w}});var n=l(3396),a=l(9242),s=l(7139),u=l(8521),o=l(1991);const i=t=>((0,n.dD)("data-v-b83c5d0e"),t=t(),(0,n.Cn)(),t),r={class:"auth-contain"},c={key:0,class:"auth-box"},h=i((()=>(0,n._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),d={class:"auth"},m={class:"timer"};function p(t,e,l,i,p,f){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(u.D,{cols:"12"},{default:(0,n.w5)((()=>[!0===p.auth.phoneAuthState?((0,n.wg)(),(0,n.iD)("div",c,[h,(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>p.auth.authInput=t),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[a.nr,p.auth.authInput]]),(0,n._)("p",m,(0,s.zw)(String(Math.floor(p.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,s.zw)(String(Math.floor(p.auth.authCounter/1e3%60)).padStart(2,"0")),1),(0,n._)("button",{class:"auth-complete-btn",onClick:e[1]||(e[1]=e=>t.$emit("authRes",{authInput:this.auth.authInput,id:this.id,phoneAuthNumber:this.phoneAuthNumber}))},"확인")])])):(0,n.kq)("",!0),(0,n.Wm)(o.h,{modelValue:t.phonenum,"onUpdate:modelValue":e[2]||(e[2]=e=>t.phonenum=e),label:"핸드폰 번호",rules:t.phonenum_rule},null,8,["modelValue","rules"]),(0,n._)("button",{class:"auth-button",onClick:e[3]||(e[3]=t=>f.authState())},"인증 번호 받기")])),_:1})])}var f=l(6265),g=l.n(f),_={props:{info:{checkUser:String,name:String,email:String}},data(){return{auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0,authRes:!0},id:null,phoneAuthNumber:null}},unmounted(){this.auth.authCounter=0},methods:{authState(){console.log(this.info),console.log(this.phonenum),this.phonenum.length>=8?(this.auth.phoneAuthState=!0,g().post("/api/findPassword",{checkUser:this.info.checkUser,name:this.info.name,email:this.info.email,phonenum:this.phonenum}).then((t=>{console.log(t.data),this.id=t.data.id,this.phoneAuthNumber=t.data.phoneAuthNumber})).catch((t=>{console.log(t)})),setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},v=l(89);const b=(0,v.Z)(_,[["render",p],["__scopeId","data-v-b83c5d0e"]]);var w=b},6605:function(t,e,l){l.r(e),l.d(e,{default:function(){return E}});var n=l(3396),a=l(9242),s=l(6422),u=(l(6699),l(8099),l(1138)),o=l(7139),i=l(1107);const r=["sm","md","lg","xl","xxl"],c=["start","end","center"];function h(t,e){return r.reduce(((l,n)=>(l[t+(0,o.kC)(n)]=e(),l)),{})}const d=t=>[...c,"baseline","stretch"].includes(t),m=h("align",(()=>({type:String,default:null,validator:d}))),p=t=>[...c,"space-between","space-around"].includes(t),f=h("justify",(()=>({type:String,default:null,validator:p}))),g=t=>[...c,"space-between","space-around","stretch"].includes(t),_=h("alignContent",(()=>({type:String,default:null,validator:g}))),v={align:Object.keys(m),justify:Object.keys(f),alignContent:Object.keys(_)},b={align:"align",justify:"justify",alignContent:"align-content"};function w(t,e,l){let n=b[t];if(null!=l){if(e){const l=e.replace(t,"");n+=`-${l}`}return n+=`-${l}`,n.toLowerCase()}}const S=(0,i.a)({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d},...m,justify:{type:String,default:null,validator:p},...f,alignContent:{type:String,default:null,validator:g},..._,...(0,u.Q)()},setup(t,e){let{slots:l}=e;const a=(0,n.Fl)((()=>{const e=[];let l;for(l in v)v[l].forEach((n=>{const a=t[n],s=w(l,n,a);s&&e.push(s)}));return e.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),e}));return()=>{var e;return(0,n.h)(t.tag,{class:["v-row",a.value]},null==(e=l.default)?void 0:e.call(l))}}});var y=l(8521),C=l(1991);const k=t=>((0,n.dD)("data-v-7b8814a4"),t=t(),(0,n.Cn)(),t),V={class:"signup-contain"},$=k((()=>(0,n._)("header",{class:"welcome-header"},[(0,n._)("h1",{class:"welcome-header__title"},"회 원 가 입")],-1))),x=k((()=>(0,n._)("br",null,null,-1))),W=k((()=>(0,n._)("br",null,null,-1)));function j(t,e,l,u,o,i){const r=(0,n.up)("Auth");return(0,n.wg)(),(0,n.iD)("div",V,[$,(0,n.Wm)(s.O,{ref:"form","lazy-validation":"",onSubmit:(0,a.iM)(t.SignupForm,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(C.h,{class:"inutBox",modelValue:o.c_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.c_name=t),label:"이름*",rules:o.c_name_rule,required:""},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(C.h,{class:"inutBox",modelValue:o.c_email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.c_email=t),label:"이메일*",rules:o.emailRules,disabled:"ins"!=o.state,required:""},null,8,["modelValue","rules","disabled"])])),_:1}),(0,n._)("button",{class:"login-form__btn_right",onClick:e[2]||(e[2]=t=>i.existEmail(o.c_email))},"이메일 중복 검사"),(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(C.h,{class:"inutBox",modelValue:o.c_passwd,"onUpdate:modelValue":e[3]||(e[3]=t=>o.c_passwd=t),label:"비밀번호*",type:"password",rules:o.c_passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(C.h,{class:"inutBox",modelValue:o.c_passwd_chk,"onUpdate:modelValue":e[4]||(e[4]=t=>o.c_passwd_chk=t),label:"비밀번호 확인*",type:"password",rules:o.c_passwd_rule2},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(r)])),_:1}),x,W,(0,n._)("button",{class:"login-form__btn_right",onClick:e[5]||(e[5]=t=>i.signupConsumer())},"다음")])),_:1},8,["onSubmit"])])}var A=l(6265),D=l.n(A),N=l(2),I={name:"SignupForm",components:{Auth:N.Z},data(){return{c_name:null,c_email:null,c_passwd:null,c_phonenum:null,dialog:!1,state:"ins",authList:[{name:"관리자",value:"A"},{name:"일반 사용자",value:"M"}],c_email:"",emailRules:[t=>!!t||"이메일은 필수 입력사항입니다.",t=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(t)||"유효하지 않은 형식의 E-mail 입니다."],c_name:"",c_name_rule:[t=>!!t||"이름은 필수 입력사항입니다.",t=>!(t&&t.length>=10)||"이름은 10자 이상 입력할 수 없습니다.",t=>!/[~!@#$%^&*()_+|<>?:{}]/.test(t)||"이름에는 특수문자를 사용할 수 없습니다."],c_passwd:"",c_passwd_chk:"",c_passwd_rule:[t=>"ins"!==this.state||(!!t||"패스워드는 필수 입력사항입니다."),t=>!(t&&t.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],c_passwd_rule2:[t=>"ins"!==this.state||(!!t||"패스워드는 필수 입력사항입니다."),t=>!(t&&t.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",t=>t===this.c_passwd||"패스워드가 일치하지 않습니다."],user_auth:"",user_auth_rule:[t=>!!t||"권한은 필수 선택 사항입니다."],c_phonenum:"",c_phonenum_rule:[t=>"ins"!==this.state||(!!t||"핸드폰 번호는 필수 입력사항입니다."),t=>!(t&&t.length>=12)||"핸드폰 번호는 12자 이상 입력할 수 업습니다.",t=>/[0-9]/.test(t)||"숫자만 입력해주세요"],urlState:0}},mounted(){"/signup"===this.$route.fullPath?(this.urlState=0,console.log(this.urlState)):"/signupFarm"===this.$route.fullPath&&(this.urlState=1,console.log(this.urlState))},methods:{existEmail(t){this.$store.dispatch("existEmail",t),console.log(t)},async signupConsumer(){let t;await this.$refs.form.validate().then((e=>{t=e.valid,console.log(e)})).catch((t=>{console.log(t)})),console.log(t),console.log(this.$store.state.existEmail),t?this.$store.state.existEmail?alert("이메일 중복 확인을 완료해주세요!"):(console.log(),D().post("/api/signupConsumer",{c_name:this.c_name,c_email:this.c_email,c_passwd:this.c_passwd,c_phonenum:this.c_phonenum}).then((t=>{console.log(t),0==t.data?alert("회원가입 실패.."):(alert("회원가입 성공.."),console.log("main으로!!"),console.log(this.token),console.log(t.data.token),this.token=t.data.token,this.$router.push({name:"main",params:this.token}))})).catch((t=>{console.log(t)}))):console.log("다른 거 확인하길 바람")}}},U=l(89);const B=(0,U.Z)(I,[["render",j],["__scopeId","data-v-7b8814a4"]]);var E=B},6422:function(t,e,l){l.d(e,{O:function(){return r}});var n=l(3396),a=l(4357),s=l(4870),u=l(1107),o=l(9888),i=l(6199);const r=(0,u.a)({name:"VForm",props:{...(0,a.vC)()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:l,emit:u}=e;const r=(0,a.Np)(t),c=(0,s.iH)();function h(t){t.preventDefault(),r.reset()}function d(t){const e=t,l=r.validate();e.then=l.then.bind(l),e.catch=l.catch.bind(l),e.finally=l.finally.bind(l),u("submit",e),e.defaultPrevented||l.then((t=>{let{valid:e}=t;var l;e&&(null==(l=c.value)||l.submit())})),e.preventDefault()}return(0,o.L)((()=>{var t;return(0,n.Wm)("form",{ref:c,class:"v-form",novalidate:!0,onReset:h,onSubmit:d},[null==(t=l.default)?void 0:t.call(l,r)])})),(0,i.Z)(r,c)}})},8521:function(t,e,l){l.d(e,{D:function(){return m}});l(6699),l(8099);var n=l(1138),a=l(7139),s=l(3396),u=l(1107);const o=["sm","md","lg","xl","xxl"],i=(()=>o.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),r=(()=>o.reduce(((t,e)=>(t["offset"+(0,a.kC)(e)]={type:[String,Number],default:null},t)),{}))(),c=(()=>o.reduce(((t,e)=>(t["order"+(0,a.kC)(e)]={type:[String,Number],default:null},t)),{}))(),h={col:Object.keys(i),offset:Object.keys(r),order:Object.keys(c)};function d(t,e,l){let n=t;if(null!=l&&!1!==l){if(e){const l=e.replace(t,"");n+=`-${l}`}return"col"===t&&(n="v-"+n),"col"!==t||""!==l&&!0!==l?(n+=`-${l}`,n.toLowerCase()):n.toLowerCase()}}const m=(0,u.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...i,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},...(0,n.Q)()},setup(t,e){let{slots:l}=e;const n=(0,s.Fl)((()=>{const e=[];let l;for(l in h)h[l].forEach((n=>{const a=t[n],s=d(l,n,a);s&&e.push(s)}));const n=e.some((t=>t.startsWith("v-col-")));return e.push({"v-col":!n||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),e}));return()=>{var e;return(0,s.h)(t.tag,{class:n.value},null==(e=l.default)?void 0:e.call(l))}}})}}]);
//# sourceMappingURL=605.56343fdb.js.map