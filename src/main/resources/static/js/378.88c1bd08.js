"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[378],{9123:function(e,s,t){t.d(s,{Z:function(){return f}});var a=t(3396),i=t(7139);const o=e=>((0,a.dD)("data-v-29d81906"),e=e(),(0,a.Cn)(),e),n={class:"main_nav_t_div"},l={class:"main_t_nav"},r={class:"main_t_nav_list"},c=o((()=>(0,a._)("li",{class:"nav__btn"},[(0,a._)("a",{class:"nav__link",href:"alert"},[(0,a._)("i",{class:"fas fa-bell fa-2x","aria-hidden":"true"})])],-1))),d={class:"main_m_li_list"},_={class:"nav_m_link",href:"workout.html"},u={class:"nav__btn"},h=o((()=>(0,a._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),p=[h];function m(e,s,t,o,h,m){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("nav",l,[(0,a._)("ul",r,[c,(0,a._)("li",d,[(0,a._)("p",_,(0,i.zw)(t.headerProps),1)]),(0,a._)("li",u,[(0,a._)("a",{class:"nav__link",onClick:s[0]||(s[0]=s=>e.$router.go(-1))},p)])])])])}var k={props:{headerProps:String}},g=t(89);const v=(0,g.Z)(k,[["render",m],["__scopeId","data-v-29d81906"]]);var f=v},3731:function(e,s,t){t.d(s,{Z:function(){return d}});var a=t(3396);function i(e,s,t,i,o,n){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("i",{onClick:s[0]||(s[0]=e=>n.likeClick()),class:"fa fa-heart like-icon"})])}t(6699);var o=t(6265),n=t.n(o),l={data(){return{like:{users:[],count:0,state:!1}}},async mounted(){console.log(typeof parseInt(this.$route.params.id)),await n().get("/api/checkWish",{params:{auction_id:parseInt(this.$route.params.id),consumer_id:this.$store.state.login.userInfo.consumer_id}},{headers:{Authorization:"Bearer token code(string)"}}).then((e=>{alert("res!!",e)})).catch((e=>{alert(e)}))},methods:{likeWho(){n().get("/api/likePostWho",{params:{post_id:this.$route.params.post}}).then((e=>{for(let s=0;s<e.data.length;s++)this.like.users.push(e.data[s].nickname),e.data[s].consumer_id===this.$store.state.login.user.consumer_id&&(document.querySelector(".likeAndShareBtn").style.backgroundColor="lightgrey",document.querySelector(".likeAndShareBtn").style.color="grey");this.like.users=this.like.users.filter((e=>void 0!==e)),this.like.count=this.like.users.length})).catch((e=>{console.log(e)}))},likeClick(){let e=JSON.parse(localStorage.getItem("userInformation"));this.like.users.includes(this.$store.state.login.user.consumer_id)?n()["delete"]("/api/likesMinus",{params:{post_id:this.$route.params.post,customer_id:this.$store.state.login.user.customer_id}}).then((e=>{console.log(e)})):n().post("/api/likesPlus",{post_id:this.$route.params.post,consumer_id:e.nickname}).then((e=>{console.log(e)}))}}},r=t(89);const c=(0,r.Z)(l,[["render",i],["__scopeId","data-v-d32cd854"]]);var d=c},7378:function(e,s,t){t.r(s),t.d(s,{default:function(){return ae}});var a=t(3396),i=t(9242),o=t(7139);const n={class:"div_search"},l={class:"recentSearchBox"},r=(0,a._)("h2",{class:"profileh2"},"최근 검색어",-1),c={class:"main_div-1"},d={class:"btn_file"},_={for:"inputImage",class:""},u=["onClick"],h={class:"popularityBox"},p=(0,a._)("h2",{class:"profileh2"},"인기 검색어",-1),m={class:"main_div-2"},k={class:"aside_area aside_popular"},g=(0,a._)("h3",{class:"h_popular"},[(0,a._)("span")],-1),v={class:"tbl_home"},f={class:"up"},w={class:"upRow",scope:"row"},y=["onClick"],b={class:"white_div"},$={class:"goods_pay_section"},C={class:"goods_group"},D={class:"goods_group_list"},I=["onClick"],P={class:"goods_thumb"},S=["src"],z={class:"goods_info"},K={class:"goods"},T={class:"name"},A={class:"info"},L=(0,a._)("span",{class:"blind"},"상품금액",-1),O={class:"date"},N=(0,a._)("span",{class:"blind"},"등록일",-1),U={class:"state _statusName value_color_green _click(nmp.front.order.timeline.home.list.openDeliveryPopup(/o/orderStatus/deliveryTracking/2022020394386781/ORDER_DELIVERY/api)) _stopDefault"},E={class:"guide"},R={class:"seller_item"},x={class:"inner"},H={class:"seller"},W={class:"tel"},Z=(0,a._)("br",null,null,-1),B=(0,a._)("br",null,null,-1);function Y(e,s,t,Y,q,J){const V=(0,a.up)("Header"),M=(0,a.up)("Like");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(V,{headerProps:q.headerProps},null,8,["headerProps"]),(0,a._)("div",n,[(0,a.wy)((0,a._)("input",{class:"input_search",type:"text",placeholder:"검색어 입력",onKeyup:s[0]||(s[0]=(0,i.D2)((e=>J.searchAuction(q.keyword)),["enter"])),"onUpdate:modelValue":s[1]||(s[1]=e=>q.keyword=e)},null,544),[[i.nr,q.keyword]]),(0,a._)("button",{class:"button_search",onClick:s[2]||(s[2]=e=>J.searchAuction(q.keyword))},"검색")]),(0,a._)("fieldset",l,[r,(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.keywordList,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s},[(0,a._)("span",d,[(0,a._)("label",_,[(0,a._)("b",{id:"btnChangeProfile",class:"popularityList",onClick:s=>J.searchAuction(e)},[(0,a._)("em",null,(0,o.zw)(s+1)+".",1),(0,a.Uk)(" "+(0,o.zw)(e),1)],8,u)])])])))),128))])]),(0,a._)("fieldset",h,[p,(0,a._)("div",m,[(0,a._)("div",k,[g,(0,a._)("table",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.popularKeywordList,((e,s)=>((0,a.wg)(),(0,a.iD)("tbody",{key:s},[(0,a._)("tr",f,[(0,a._)("th",w,[(0,a._)("em",null,(0,o.zw)(s+1)+".",1),(0,a._)("span",{onClick:s=>J.searchAuction(e)},(0,o.zw)(e),9,y)])])])))),128))])])])]),(0,a._)("fieldset",null,[(0,a._)("div",b,[(0,a._)("div",$,[(0,a._)("div",C,[(0,a._)("ul",D,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.auctionList,((e,s)=>((0,a.wg)(),(0,a.iD)("li",{key:e.auction_Id,id:"_rowLi20220203162708CHK2022020394386781",class:"goods_pay_item _interlockNo20220211200904406814"},[(0,a._)("div",{onClick:t=>J.navigateProduct(e.auction_Id,s),class:"goods_item"},[(0,a._)("p",P,[(0,a._)("img",{src:`/product_images/${e.productDTO.product_img_name}.png`,alt:"",width:"90",height:"90"},null,8,S)]),(0,a._)("div",z,[(0,a._)("div",K,[(0,a._)("p",T,(0,o.zw)(e.auction_name),1),(0,a._)("ul",A,[(0,a._)("li",null,[L,(0,a.Uk)((0,o.zw)(e.bid_price)+"원",1)]),(0,a._)("li",O,[N,(0,a.Uk)(" "+(0,o.zw)(e.productDTO.p_reg_date),1)])])]),(0,a._)("p",U,(0,o.zw)(e.bid_status)+" ("+(0,o.zw)(e.deadline_date)+" 경매 종료)",1),(0,a._)("p",E,(0,o.zw)(e.productDTO.p_explanation),1)])],8,I),(0,a._)("div",R,[(0,a._)("div",x,[(0,a._)("span",H,(0,o.zw)(e.f_farm_name),1),(0,a._)("span",W,(0,o.zw)(e.f_phonenum),1),Z,B,(0,a.Wm)(M)])])])))),128))])])])])])])}var q=t(6265),J=t.n(q),V=t(3266),M=t.n(V),j=t(4029),F=t.n(j),G=t(9123),Q=t(3731),X=t(6337),ee={components:{bottomNav:X["default"],Header:G.Z,Like:Q.Z},name:"search",data(){return{headerProps:"Search",checkUser:"consumer",id:1,keyword:""}},created(){this.connect(),this.initPopularKeyword()},methods:{searchAuction(e){""!==e?(console.log("keyword: "+e),this.$store.commit("PUSH_KEYWORD_LIST",e),J().get(`/api/searchAuction/${this.checkUser}/${this.id}/${e}`).then((e=>{this.$store.commit("INIT_AUCTION_LIST",e.data)})).catch((e=>{console.log(e)})),this.keyword=""):""===e&&alert("검색어를 입력해주세요!")},connect(){const e="/socket";let s=new(F())(e);this.stompClient=M().over(s);let t={TOKEN:this.$store.state.config.headers.TOKEN};this.stompClient.connect(t,(e=>{this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send_bidding",(e=>{const s=JSON.parse(e.body);void 0!=s.auction_Id&&this.$store.commit("UPDATE_BID_PRICE",s)}))}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))},initPopularKeyword(){J().get("/api/popularKeyword").then((e=>{this.$store.commit("INIT_POPULAR_KEYWORD_LIST",e.data)})).catch((e=>{console.log(e)}))},navigateProduct(e,s){this.$router.push({name:"auction_detail",params:{id:e,index:s}})},liked(){}}},se=t(89);const te=(0,se.Z)(ee,[["render",Y]]);var ae=te}}]);
//# sourceMappingURL=378.88c1bd08.js.map