"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[752],{3752:function(e,l,t){t.r(l),t.d(l,{default:function(){return U}});var a=t(3396),o=t(9242),n=t(7139),s=t(6422),u=t(1991);const i=e=>((0,a.dD)("data-v-3f74181a"),e=e(),(0,a.Cn)(),e),r=i((()=>(0,a._)("header",{class:"welcome-header1"},[(0,a._)("h1",{class:"welcome-header__title1"},"따 과 농 가"),(0,a._)("p",{class:"welcome-header__text1"},"우리들의 농가 따과농가")],-1))),d={class:"login_keep_wrap",id:"login_keep_wrap"},c={class:"keep_check"},m=i((()=>(0,a._)("label",{id:"consumer-text",for:"consumer"},"소비자",-1))),p=i((()=>(0,a._)("br",null,null,-1))),h=i((()=>(0,a._)("label",{class:"farm-text",for:"farm"},"농가",-1))),f=i((()=>(0,a._)("br",null,null,-1))),_={class:"login-buttons"},v={class:"login-button",type:"submit"};function w(e,l,t,i,w,g){const b=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[r,(0,a.Wm)(s.O,{ref:"form",modelValue:w.valid,"onUpdate:modelValue":l[6]||(l[6]=e=>w.valid=e),"lazy-validation":"",onSubmit:(0,o.iM)(e.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(u.h,{modelValue:w.email,"onUpdate:modelValue":l[0]||(l[0]=e=>w.email=e),rules:w.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(u.h,{modelValue:w.password,"onUpdate:modelValue":l[1]||(l[1]=e=>w.password=e),"append-icon":w.show1?"mdi-eye":"mdi-eye-off",rules:[w.rules.required,w.rules.min],type:w.show1?"text":"password",name:"input-10-1",label:"Password",hint:"비밀번호는 최소 6글자 입니다",counter:"","onClick:append":l[2]||(l[2]=e=>w.show1=!w.show1)},null,8,["modelValue","append-icon","rules","type"]),(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":l[3]||(l[3]=e=>w.checkUser=e)},null,512),[[o.G2,w.checkUser]]),m]),p,(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":l[4]||(l[4]=e=>w.checkUser=e)},null,512),[[o.G2,w.checkUser]]),h]),f])]),(0,a._)("button",{class:"login-form__btn",type:"submit",onClick:l[5]||(l[5]=e=>g.login())},"로그인"),(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.loginButton.url.length,((e,l)=>((0,a.wg)(),(0,a.j4)(b,{key:l,to:w.loginButton.url[l]},{default:(0,a.w5)((()=>[(0,a._)("button",v,(0,n.zw)(w.loginButton.title[l]),1)])),_:2},1032,["to"])))),128))])])),_:1},8,["modelValue","onSubmit"])])}var g=t(6265),b=t.n(g),k={data(){return{valid:!1,checkUser:"consumer",email:null,password:null,token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],rules:{required:e=>!!e||"비밀번호를 입력해주세요.",min:e=>e.length>=6||"비밀번호는 최소 6글자 입니다",emailMatch:()=>"The email and password you entered don't match"},loginButton:{title:["회원가입","아이디찾기","비밀번호 찾기"],url:["/clause","/login/searchId","/login/searchPw"]}}},methods:{login(){b().post("/api/login",{email:this.email,checkUser:this.checkUser,password:this.password}).then((e=>{console.log(e),""==e.data?(alert("아이디 또는 비밀번호가 틀렸습니다!"),console.log("....")):0==e.data.consumer_id?(alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!")):(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("login/TOKEN_SAVE",e.data.token),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"}))})).catch((e=>{console.log(e)}))}}},y=t(89);const V=(0,y.Z)(k,[["render",w],["__scopeId","data-v-3f74181a"]]);var U=V},6422:function(e,l,t){t.d(l,{O:function(){return r}});var a=t(3396),o=t(4357),n=t(4870),s=t(1107),u=t(9888),i=t(6199);const r=(0,s.a)({name:"VForm",props:{...(0,o.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:s}=l;const r=(0,o.Np)(e),d=(0,n.iH)();function c(e){e.preventDefault(),r.reset()}function m(e){const l=e,t=r.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),s("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;var t;l&&(null==(t=d.value)||t.submit())})),l.preventDefault()}return(0,u.L)((()=>{var e;return(0,a.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:c,onSubmit:m},[null==(e=t.default)?void 0:e.call(t,r)])})),(0,i.Z)(r,d)}})}}]);
//# sourceMappingURL=752.8cc58ec3.js.map