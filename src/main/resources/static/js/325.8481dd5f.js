"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[325],{8325:function(e,t,l){l.r(t),l.d(t,{default:function(){return G}});var a=l(3396),n=l(9242),s=l(7139),u=l(6422),o=(l(6699),l(1138)),r=l(1107);const i=["sm","md","lg","xl","xxl"],c=["start","end","center"];function d(e,t){return i.reduce(((l,a)=>(l[e+(0,s.kC)(a)]=t(),l)),{})}const h=e=>[...c,"baseline","stretch"].includes(e),m=d("align",(()=>({type:String,default:null,validator:h}))),p=e=>[...c,"space-between","space-around"].includes(e),_=d("justify",(()=>({type:String,default:null,validator:p}))),g=e=>[...c,"space-between","space-around","stretch"].includes(e),f=d("alignContent",(()=>({type:String,default:null,validator:g}))),w={align:Object.keys(m),justify:Object.keys(_),alignContent:Object.keys(f)},b={align:"align",justify:"justify",alignContent:"align-content"};function v(e,t,l){let a=b[e];if(null!=l){if(t){const l=t.replace(e,"");a+=`-${l}`}return a+=`-${l}`,a.toLowerCase()}}const y=(0,r.a)({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h},...m,justify:{type:String,default:null,validator:p},..._,alignContent:{type:String,default:null,validator:g},...f,...(0,o.Q)()},setup(e,t){let{slots:l}=t;const n=(0,a.Fl)((()=>{const t=[];let l;for(l in w)w[l].forEach((a=>{const n=e[a],s=v(l,a,n);s&&t.push(s)}));return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t}));return()=>{var t;return(0,a.h)(e.tag,{class:["v-row",n.value]},null==(t=l.default)?void 0:t.call(l))}}}),S=["sm","md","lg","xl","xxl"],C=(()=>S.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),k=(()=>S.reduce(((e,t)=>(e["offset"+(0,s.kC)(t)]={type:[String,Number],default:null},e)),{}))(),$=(()=>S.reduce(((e,t)=>(e["order"+(0,s.kC)(t)]={type:[String,Number],default:null},e)),{}))(),V={col:Object.keys(C),offset:Object.keys(k),order:Object.keys($)};function j(e,t,l){let a=e;if(null!=l&&!1!==l){if(t){const l=t.replace(e,"");a+=`-${l}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==l&&!0!==l?(a+=`-${l}`,a.toLowerCase()):a.toLowerCase()}}const W=(0,r.a)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...C,offset:{type:[String,Number],default:null},...k,order:{type:[String,Number],default:null},...$,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},...(0,o.Q)()},setup(e,t){let{slots:l}=t;const n=(0,a.Fl)((()=>{const t=[];let l;for(l in V)V[l].forEach((a=>{const n=e[a],s=j(l,a,n);s&&t.push(s)}));const a=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>{var t;return(0,a.h)(e.tag,{class:n.value},null==(t=l.default)?void 0:t.call(l))}}});var x=l(1991);const E=e=>((0,a.dD)("data-v-89d28a42"),e=e(),(0,a.Cn)(),e),A=E((()=>(0,a._)("header",{class:"welcome-header"},[(0,a._)("h1",{class:"welcome-header__title"},"회 원 가 입")],-1))),O={key:0,class:"auth-box"},z=E((()=>(0,a._)("p",{class:"auth-title"},"인증번호를 입력해주세요!",-1))),I={class:"auth"},N={class:"timer"},U=E((()=>(0,a._)("button",{class:"auth-complete-btn"},"확인",-1))),F=E((()=>(0,a._)("br",null,null,-1))),R=E((()=>(0,a._)("br",null,null,-1)));function q(e,t,l,o,r,i){return(0,a.wg)(),(0,a.iD)("div",null,[A,(0,a.Wm)(u.O,{ref:"form","lazy-validation":"",onSubmit:(0,n.iM)(e.SignupForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{modelValue:r.c_name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.c_name=e),label:"이름*",rules:r.c_name_rule,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(W,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{modelValue:r.c_email,"onUpdate:modelValue":t[1]||(t[1]=e=>r.c_email=e),label:"이메일*",rules:r.emailRules,disabled:"ins"!=r.state,required:""},null,8,["modelValue","rules","disabled"])])),_:1}),(0,a._)("button",{class:"login-form__btn_right",onClick:t[2]||(t[2]=e=>i.existEmail(r.c_email))},"이메일 중복 검사"),(0,a.Wm)(W,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{modelValue:r.c_passwd,"onUpdate:modelValue":t[3]||(t[3]=e=>r.c_passwd=e),label:"비밀번호*",type:"password",rules:r.c_passwd_rule},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(W,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{modelValue:r.c_passwd_chk,"onUpdate:modelValue":t[4]||(t[4]=e=>r.c_passwd_chk=e),label:"비밀번호 확인*",type:"password",rules:r.c_passwd_rule2},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(W,{cols:"12"},{default:(0,a.w5)((()=>[!0===r.auth.phoneAuthState?((0,a.wg)(),(0,a.iD)("div",O,[z,(0,a._)("div",I,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>r.auth.authInput=e),placeholder:"인증번호를 입력해주세요.",class:"auth-input"},null,512),[[n.nr,r.auth.authInput]]),(0,a._)("p",N,(0,s.zw)(String(Math.floor(r.auth.authCounter/6e4%60)).padStart(2,"0"))+" : "+(0,s.zw)(String(Math.floor(r.auth.authCounter/1e3%60)).padStart(2,"0")),1),U])])):(0,a.kq)("",!0),(0,a.Wm)(x.h,{modelValue:r.c_phonenum,"onUpdate:modelValue":t[6]||(t[6]=e=>r.c_phonenum=e),label:"핸드폰 번호",rules:r.c_phonenum_rule},null,8,["modelValue","rules"]),(0,a._)("button",{class:"auth-button",onClick:t[7]||(t[7]=e=>i.authState())},"인증 번호 받기")])),_:1})])),_:1}),F,R,(0,a._)("button",{class:"login-form__btn_right",onClick:t[8]||(t[8]=e=>i.signupConsumer())},"다음")])),_:1},8,["onSubmit"])])}var B=l(6265),L=l.n(B),M={name:"SignupForm",data(){return{c_name:null,c_email:null,c_passwd:null,c_phonenum:null,dialog:!1,state:"ins",authList:[{name:"관리자",value:"A"},{name:"일반 사용자",value:"M"}],c_email:"",emailRules:[e=>!!e||"이메일은 필수 입력사항입니다.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],c_name:"",c_name_rule:[e=>!!e||"이름은 필수 입력사항입니다.",e=>!(e&&e.length>=10)||"이름은 10자 이상 입력할 수 없습니다.",e=>!/[~!@#$%^&*()_+|<>?:{}]/.test(e)||"이름에는 특수문자를 사용할 수 없습니다."],c_passwd:"",c_passwd_chk:"",c_passwd_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],c_passwd_rule2:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",e=>e===this.c_passwd||"패스워드가 일치하지 않습니다."],user_auth:"",user_auth_rule:[e=>!!e||"권한은 필수 선택 사항입니다."],c_phonenum:"",c_phonenum_rule:[e=>"ins"!==this.state||(!!e||"핸드폰 번호는 필수 입력사항입니다."),e=>!(e&&e.length>=12)||"핸드폰 번호는 12자 이상 입력할 수 업습니다.",e=>/[0-9]/.test(e)||"숫자만 입력해주세요"],urlState:0,auth:{phoneAuthState:!1,authCounter:18e4,authInput:"",min:0,sec:0,authRes:0}}},mounted(){"/signup"===this.$route.fullPath?(this.urlState=0,console.log(this.urlState)):"/signupFarm"===this.$route.fullPath&&(this.urlState=1,console.log(this.urlState))},methods:{existEmail(e){this.$store.dispatch("existEmail",e),console.log(e)},async signupConsumer(){let e;await this.$refs.form.validate().then((t=>{e=t.valid,console.log(t)})).catch((e=>{console.log(e)})),console.log(e),console.log(this.$store.state.existEmail),e?this.$store.state.existEmail?alert("이메일 중복 확인을 완료해주세요!"):(console.log(),L().post("/api/signupConsumer",{c_name:this.c_name,c_email:this.c_email,c_passwd:this.c_passwd,c_phonenum:this.c_phonenum}).then((e=>{console.log(e),0==e.data?alert("회원가입 실패.."):(alert("회원가입 성공.."),console.log("main으로!!"),console.log(this.token),console.log(e.data.token),this.token=e.data.token,this.$router.push({name:"main",params:this.token}))})).catch((e=>{console.log(e)}))):console.log("다른 거 확인하길 바람")},authState(){this.c_phonenum.length>=8?(this.auth.phoneAuthState=!0,setInterval((()=>{this.auth.authCounter-=1e3,0===this.auth.authCounter&&(alert("시간이 초과되었습니다."),window.location.reload(!0))}),1e3)):alert("핸드폰 번호를 입력해주세요!")},authReq(){console.log(this.auth.authInput)}}},Z=l(89);const D=(0,Z.Z)(M,[["render",q],["__scopeId","data-v-89d28a42"]]);var G=D}}]);
//# sourceMappingURL=325.8481dd5f.js.map