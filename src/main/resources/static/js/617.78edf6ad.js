"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[617],{6843:function(e,l,a){a.r(l),a.d(l,{default:function(){return v}});var o=a(3396),s=a(9242),t=a(6422),n=a(1991);const r=(0,o._)("header",{class:"welcome-header1"},[(0,o._)("h1",{class:"welcome-header__title1"},"따 과 농 가"),(0,o._)("p",{class:"welcome-header__text1"},"우리들의 농가 따과농가")],-1),u={class:"login_keep_wrap",id:"login_keep_wrap"},i={class:"keep_check"},d=(0,o._)("label",{for:"consumer"},"소비자",-1),c=(0,o._)("br",null,null,-1),m=(0,o._)("label",{for:"farm"},"농가",-1),p=(0,o._)("br",null,null,-1),h=(0,o._)("button",{class:"login-form__btn",type:"submit"},"회원가입",-1);function _(e,l,a,_,w,f){const k=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[r,(0,o.Wm)(t.O,{ref:"form",modelValue:w.valid,"onUpdate:modelValue":l[6]||(l[6]=e=>w.valid=e),"lazy-validation":"",onSubmit:(0,s.iM)(e.submitForm,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(n.h,{modelValue:w.email,"onUpdate:modelValue":l[0]||(l[0]=e=>w.email=e),rules:w.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,o.Wm)(n.h,{modelValue:w.password,"onUpdate:modelValue":l[1]||(l[1]=e=>w.password=e),"append-icon":w.show1?"mdi-eye":"mdi-eye-off",rules:[w.rules.required,w.rules.min],type:w.show1?"text":"password",name:"input-10-1",label:"Password",hint:"비밀번호는 최소 6글자 입니다",counter:"","onClick:append":l[2]||(l[2]=e=>w.show1=!w.show1)},null,8,["modelValue","append-icon","rules","type"]),(0,o._)("div",u,[(0,o._)("div",i,[(0,o.wy)((0,o._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":l[3]||(l[3]=e=>w.checkUser=e)},null,512),[[s.G2,w.checkUser]]),d,c,(0,o.wy)((0,o._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":l[4]||(l[4]=e=>w.checkUser=e)},null,512),[[s.G2,w.checkUser]]),m,p])]),(0,o._)("button",{class:"login-form__btn",type:"submit",onClick:l[5]||(l[5]=e=>f.login())},"로그인"),(0,o.Wm)(k,{to:"/clause"},{default:(0,o.w5)((()=>[h])),_:1})])),_:1},8,["modelValue","onSubmit"])])}var w=a(6265),f=a.n(w),k={data(){return{valid:!1,checkUser:"consumer",email:null,password:null,token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],rules:{required:e=>!!e||"비밀번호를 입력해주세요.",min:e=>e.length>=6||"비밀번호는 최소 6글자 입니다",emailMatch:()=>"The email and password you entered don't match"}}},methods:{login(){f().post("/api/login",{email:this.email,checkUser:this.checkUser,password:this.password}).then((e=>{console.log(e),""==e.data?(alert("아이디 또는 비밀번호가 틀렸습니다!"),console.log("....")):0==e.data.consumer_id?(alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!")):(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("login/TOKEN_SAVE",e.data.token),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"}))})).catch((e=>{console.log(e)}))}}},g=a(89);const b=(0,g.Z)(k,[["render",_]]);var v=b}}]);
//# sourceMappingURL=617.78edf6ad.js.map