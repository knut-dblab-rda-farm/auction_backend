"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[405],{2462:function(e,t,a){a.d(t,{Z:function(){return f}});var r=a(3396),n=a(7139),i=a(3289);const s=e=>((0,r.dD)("data-v-7f00408a"),e=e(),(0,r.Cn)(),e),l={class:"header"},c={class:"navLi"},o=(0,r.Uk)("mdi-home"),d={class:"navLi"},u={class:"navLi"},g=s((()=>(0,r._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),m=[g];function p(e,t,a,s,g,p){const h=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",l,[(0,r._)("nav",null,[(0,r._)("li",c,[(0,r.Wm)(h,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Wm)(i.t,null,{default:(0,r.w5)((()=>[o])),_:1})])),_:1})]),(0,r._)("li",d,(0,n.zw)(a.headerProps),1),(0,r._)("li",u,[(0,r._)("p",{class:"nav__link",onClick:t[0]||(t[0]=e=>p.goBack())},m)])])])}var h={props:{headerProps:String},methods:{goBack(){this.$router.go(-1)}}},v=a(89);const _=(0,v.Z)(h,[["render",p],["__scopeId","data-v-7f00408a"]]);var f=_},3405:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var r=a(3396),n=a(7139);const i=e=>((0,r.dD)("data-v-621db1ed"),e=e(),(0,r.Cn)(),e),s={class:"contain"},l={class:"reviewInformation"},c=["src"],o={class:"information"},d=i((()=>(0,r._)("hr",{class:"line"},null,-1))),u={class:"star-select"},g=i((()=>(0,r._)("h2",null,"별점 선택",-1))),m={class:"starState"},p=(0,r.uE)('<hr class="line" data-v-621db1ed><div class="review-comment" data-v-621db1ed><h2 data-v-621db1ed>내용</h2><textarea placeholder="상품에 대한 평가를 20자 이상 작성해주세요!" name="" id="product-contents" cols="40" rows="5" data-v-621db1ed></textarea></div><hr class="line" data-v-621db1ed><h2 class="title" data-v-621db1ed>사진 등록</h2>',4),h={class:"file-img-container"},v=i((()=>(0,r._)("label",{for:"input-file",class:"select-img"},"+",-1))),_=i((()=>(0,r._)("div",{id:"image_container",class:"image_container"},null,-1))),f={class:"final-buttons"};function w(e,t,a,i,w,D){const b=(0,r.up)("BackHeader");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(b,{headerProps:w.headerProps},null,8,["headerProps"]),(0,r._)("div",l,[(0,r._)("img",{class:"review-image",src:`/product_images/${w.getData.product_img_name}.png`,alt:"리뷰할 사진"},null,8,c),(0,r._)("div",o,[(0,r._)("p",null,"상품명 : "+(0,n.zw)(w.getData.auction_name),1),(0,r._)("p",null,"최종낙찰 : "+(0,n.zw)(parseInt(w.getData.a_max_price).toLocaleString())+"원",1)])]),d,(0,r._)("div",u,[g,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.reqData.starState,(e=>((0,r.wg)(),(0,r.iD)("i",{key:e,class:"fa fa-star review-star"})))),128)),(0,r._)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.starState,(e=>((0,r.wg)(),(0,r.iD)("button",{onClick:t[0]||(t[0]=(...e)=>D.reviewBtnActivate&&D.reviewBtnActivate(...e)),class:"star-choice-button",key:e},(0,n.zw)(e),1)))),128))])]),p,(0,r._)("div",h,[v,(0,r._)("input",{onChange:t[1]||(t[1]=e=>D.imgPreview(e)),id:"input-file",class:"select-img-hidden",type:"file"},null,32),_]),(0,r._)("div",f,[(0,r._)("button",{class:"final-button",onClick:t[2]||(t[2]=t=>e.$router.go(-1))},"취소"),(0,r._)("button",{class:"final-button",onClick:t[3]||(t[3]=e=>D.reqDatas())},"등록")])])}var D=a(6265),b=a.n(D),k=a(2462),S={components:{BackHeader:k.Z},data(){return{headerProps:"리뷰 작성",starState:["안좋아요","그냥 그래요","보통이에요","안좋아요","정말좋아요"],getTest:{img:"",name:"못난이 복숭아",price:1e4},getData:{},reqData:{starState:5,comment:"",selectPicture:""},imgData:[],user:JSON.parse(localStorage.getItem("user"))}},mounted(){document.querySelectorAll(".star-choice-button")[4].classList.add("active"),this.getData=this.$store.state.review.getReviewData;let e=document.querySelectorAll(".star-choice-button");e.forEach(((e,t)=>{e.addEventListener("click",(()=>{this.reqData.starState=t+1}))}))},methods:{reviewBtnActivate({target:e}){this.reviewState=e.innerHTML;let t=document.querySelector(".starState");[...t.children].forEach((t=>{t.classList.toggle("active",t===e)}))},imgPreview(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result),t.setAttribute("width","60px"),t.setAttribute("height","60px"),document.getElementById("image_container").appendChild(t)},t.readAsDataURL(e.target.files[0]),this.imgData.push(e.target.files[0]),console.log(e.target.files[0])},reqDatas(){console.log(this.getData.farm_id);let e=new FormData;e.append("checkUser",localStorage.getItem("checkUser")),e.append("auction_Id",this.getData.auction_Id),e.append("farm_id",this.getData.farm_id),e.append("consumer_id",JSON.parse(localStorage.getItem("user")).consumer_id),e.append("grade_point",this.reqData.starState),e.append("consumer_review",document.getElementById("product-contents").value),e.append("auction_name",this.getData.auction_name),e.append("review_img_file",this.imgData[0]);for(let t of e)console.log(t);b().post("/api/AuctionReview",e,{headers:{TOKEN:this.user.token,"Content-Type":"multipart/form-data"}}).then((()=>{this.$router.push("/farm_mypage_auction")})).catch((e=>{console.log(e)}))}}},C=a(89);const I=(0,C.Z)(S,[["render",w],["__scopeId","data-v-621db1ed"]]);var y=I}}]);
//# sourceMappingURL=405.e356239a.js.map