"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[493],{1493:function(e,l,a){a.r(l),a.d(l,{default:function(){return V}});var t=a(3396),o=a(9242),s=a(7139),n=a(6422),r=a(7853);const i=e=>((0,t.dD)("data-v-49a1a447"),e=e(),(0,t.Cn)(),e),u=i((()=>(0,t._)("header",{class:"welcome-header1"},[(0,t._)("h1",{class:"welcome-header__title1"},"따 과 농 가"),(0,t._)("p",{class:"welcome-header__text1"},"우리들의 농가 따과농가")],-1))),d={class:"login_keep_wrap",id:"login_keep_wrap"},c={class:"keep_check"},m=i((()=>(0,t._)("label",{id:"consumer-text",for:"consumer"},"소비자",-1))),h=i((()=>(0,t._)("br",null,null,-1))),p=i((()=>(0,t._)("label",{class:"farm-text",for:"farm"},"농가",-1))),_=i((()=>(0,t._)("br",null,null,-1))),g={class:"login-buttons"},w={class:"login-button",type:"submit"};function f(e,l,a,i,f,k){const v=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",null,[u,(0,t.Wm)(n.O,{ref:"form",modelValue:f.valid,"onUpdate:modelValue":l[6]||(l[6]=e=>f.valid=e),"lazy-validation":"",onSubmit:(0,o.iM)(e.submitForm,["prevent"]),class:"loginContain"},{default:(0,t.w5)((()=>[(0,t.Wm)(r.h,{modelValue:f.email,"onUpdate:modelValue":l[0]||(l[0]=e=>f.email=e),rules:f.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,t.Wm)(r.h,{modelValue:f.password,"onUpdate:modelValue":l[1]||(l[1]=e=>f.password=e),"append-icon":f.show1?"mdi-eye":"mdi-eye-off",rules:[f.rules.required,f.rules.min],type:f.show1?"text":"password",name:"input-10-1",label:"Password",hint:"비밀번호는 최소 6글자 입니다",counter:"","onClick:append":l[2]||(l[2]=e=>f.show1=!f.show1)},null,8,["modelValue","append-icon","rules","type"]),(0,t._)("div",d,[(0,t._)("div",c,[(0,t._)("div",null,[(0,t.wy)((0,t._)("input",{type:"radio",id:"consumer",value:"consumer","onUpdate:modelValue":l[3]||(l[3]=e=>f.checkUser=e)},null,512),[[o.G2,f.checkUser]]),m]),h,(0,t._)("div",null,[(0,t.wy)((0,t._)("input",{type:"radio",id:"farm",value:"farm","onUpdate:modelValue":l[4]||(l[4]=e=>f.checkUser=e)},null,512),[[o.G2,f.checkUser]]),p]),_])]),(0,t._)("button",{class:"login-form__btn",type:"submit",onClick:l[5]||(l[5]=e=>k.login())},"로그인"),(0,t._)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(f.loginButton.url.length,((e,l)=>((0,t.wg)(),(0,t.j4)(v,{key:l,to:f.loginButton.url[l]},{default:(0,t.w5)((()=>[(0,t._)("button",w,(0,s.zw)(f.loginButton.title[l]),1)])),_:2},1032,["to"])))),128))])])),_:1},8,["modelValue","onSubmit"])])}var k=a(6265),v=a.n(k),b={data(){return{valid:!1,checkUser:"consumer",email:null,password:null,token:null,show1:!1,show2:!0,emailRules:[e=>!!e||"E-mail을 입력해주세요.",e=>/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/.test(e)||"유효하지 않은 형식의 E-mail 입니다."],rules:{required:e=>!!e||"비밀번호를 입력해주세요.",min:e=>e.length>=6||"비밀번호는 최소 6글자 입니다",emailMatch:()=>"The email and password you entered don't match"},loginButton:{title:["회원가입","아이디찾기","비밀번호 찾기"],url:["/clause","/login/searchId","/login/searchPw"]}}},methods:{login(){v().post("/api/login",{email:this.email,checkUser:this.checkUser,password:this.password}).then((e=>{if(""==e.data)alert("아이디 또는 비밀번호가 틀렸습니다!"),console.log("....");else if(0==e.data.consumer_id)alert("중복 로그인입니다! 다시 한번 로그인 해주세요!"),console.log("중복 로그인!");else{let l=Date.now()+864e5;localStorage.setItem("expire",JSON.stringify(l)),console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data)),this.$store.commit("TOKEN_SAVE",e.data.token),e.data.consumer_id?(localStorage.setItem("checkUser","consumer"),localStorage.setItem("id",e.data.consumer_id)):(localStorage.setItem("checkUser","farm"),localStorage.setItem("id",e.data.farm_id)),console.log(this.$store.state.config.headers.TOKEN),this.$router.push({name:"main"})}})).catch((e=>{console.log(e)}))}}},y=a(89);const U=(0,y.Z)(b,[["render",f],["__scopeId","data-v-49a1a447"]]);var V=U}}]);
//# sourceMappingURL=493.091326cc.js.map