{"version":3,"file":"js/222.d19c40f3.js","mappings":"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","sources":["webpack://realvue/./src/views/login/login.vue","webpack://realvue/./src/views/login/login.vue?57ce","webpack://realvue/../../../src/components/VForm/VForm.tsx"],"sourcesContent":["<template>\n    <div>\n        <header class=\"welcome-header1\">\n            <h1 class=\"welcome-header__title1\">따 과 농 가</h1>\n            <p class=\"welcome-header__text1\">우리들의 농가 따과농가</p>\n            <!-- {{this.$store.state.test.id}} -->\n        </header>\n        <!-- @ 는 v-on 과 같은 표현식이다. 폼 내부에서 버튼을 누르면 submit 이벤트가 form 으로 전송되고 v-on:submit이 실행된다.\n\t\t이때 페이지가 새로고침되므로 .prevent를 통해 새로고침을 막고 methods의 함수롤 호출하게 한다. -->\n\n\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation @submit.prevent=\"submitForm\">\n            <v-text-field v-model=\"email\" :rules=\"emailRules\" label=\"E-mail\" required ></v-text-field>\n\n            <v-text-field v-model=\"password\" :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\"\n                label=\"Password\" hint=\"비밀번호는 최소 6글자 입니다\" counter @click:append=\"show1 = !show1\"></v-text-field>\n\n            <div class=\"login_keep_wrap\" id=\"login_keep_wrap\">\n                <div class=\"keep_check\">\n                    <!-- <input type=\"checkbox\" id=\"keep\" name=\"nvlong\" class=\"input_keep\" value=\"on\">\n                    <label for=\"keep\" class=\"keep_text\">로그인 상태 유지</label>\n                    <br>\n                    <br> -->\n                    <div>\n                        <input type=\"radio\" id=\"consumer\" value=\"consumer\" v-model=\"checkUser\">\n                        <label id=\"consumer-text\" for=\"consumer\">소비자</label>\n                    </div>\n\n                    <br>\n                    <div>\n                        <input type=\"radio\" id=\"farm\" value=\"farm\" v-model=\"checkUser\">\n                        <label class=\"farm-text\" for=\"farm\">농가</label>  \n                    </div>\n                    <br>\n                </div>\n            </div>\n            <button class=\"login-form__btn\" type=\"submit\" @click=\"login()\">로그인</button>\n            <div class=\"login-buttons\">\n                <router-link v-for=\"url, i in loginButton.url.length\" :key=\"i\" :to='loginButton.url[i]'>\n                    <button class=\"login-button\" type=\"submit\">{{loginButton.title[i]}}</button>\n                </router-link>\n            </div>\n            <!-- <a class=\"login-form__a\" href=\"#\">아이디 찾기</a> -->\n        </v-form>\n    </div>\n</template>\n\n<script>\n\nimport axios from \"axios\"\n\nexport default {\n    // name: 'SignupForm',\n    data() {\n        return {\n            valid: false,\n            checkUser: 'consumer',\n            email: null,\n            password: null,\n            token: null,\n            show1: false,\n            show2: true,\n            emailRules: [\n                v => !!v || 'E-mail을 입력해주세요.',\n                v => /^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\\.[A-Za-z0-9\\-]+/.test(v) || '유효하지 않은 형식의 E-mail 입니다.',\n            ],\n            // passwordRules: [\n            //     v => !!v || 'password is required',\n            //     v => v.length <= 6 || 'password must be less than 6 characters',\n            // ],\n            rules: {\n                required: value => !!value || '비밀번호를 입력해주세요.',\n                min: v => v.length >= 6 || '비밀번호는 최소 6글자 입니다',\n                emailMatch: () => (`The email and password you entered don't match`),\n            },  \n            loginButton: {\n                title: ['회원가입', '아이디찾기', '비밀번호 찾기'],\n                url: ['/clause', '/login/searchId', '/login/searchPw']\n            }\n        };\n    },\n    methods: { \n        login() {\n            let payload = {};\n            axios.post('/api/login',  { email: this.email, checkUser: this.checkUser, password: this.password})\n            .then(res => {\n                if (res.data == \"\") {\n                    alert(\"아이디 또는 비밀번호가 틀렸습니다!\")\n                    console.log(\"....\");\n                } else if (res.data.consumer_id == 0){\n\t\t\t\t\talert(\"중복 로그인입니다! 다시 한번 로그인 해주세요!\")\n\t\t\t\t\tconsole.log(\"중복 로그인!\");\n\t\t\t\t} else {\n                    let expire = Date.now() + 86400000;\n                    localStorage.setItem('expire', JSON.stringify(expire));\n\t\t\t\t\t// main으로 넘기기\n\t\t\t\t\tconsole.log(res.data);\n                    localStorage.setItem(\"user\", JSON.stringify(res.data));\n\n\t\t\t\t\tthis.$store.commit('TOKEN_SAVE', res.data.token);\n                    // console.log(res.data.consumer_id);\n                    if(res.data.consumer_id){\n                        localStorage.setItem('checkUser', 'consumer');\n                        localStorage.setItem('id', res.data.consumer_id);\n                    }else{\n                        localStorage.setItem('checkUser', 'farm')\n                        localStorage.setItem('id', res.data.farm_id);\n                    }\n\t\t\t\t\tconsole.log(this.$store.state.config.headers.TOKEN);\n\t\t\t\t\tthis.$router.push({name: 'main'});\n\t\t\t\t}\n            })\n            .catch(err => {\n                console.log(err);\n            });\n        },\n    },\n}\n</script>\n\n<style>\n\n    /* \n\thttps://github.com/vuetifyjs/vuetify/blob/next/packages/docs/src/examples/v-form/usage.vue \n\thttps://minu0807.tistory.com/82 아이디 유효성체크\n\t*/\n</style>\n\n<style lang=\"scss\" scoped>\nlabel{\n  font-size: 17px;\n  font-weight: 500;\n}\n[type=\"radio\"] {\n    vertical-align: middle;\n  border: max(2px, 0.1em) solid gray;\n  border-radius: 50%;\n  width: 1.25em;\n  height: 1.25em;\n} \n.login-buttons{\n  display: flex;\n  justify-content: space-around;\n    .login-button{\n        background-color: transparent;\n        font-weight: 500;\n        color: rgb(129, 129, 129);\n    }\n}\n</style>\n","import { render } from \"./login.vue?vue&type=template&id=7ffd365c&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=7ffd365c&lang=css\"\nimport \"./login.vue?vue&type=style&index=1&id=7ffd365c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/webapp_farm_auction/rda_farm/FrontVue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ffd365c\"]])\n\nexport default __exports__","// Composables\nimport { createForm, makeFormProps } from '@/composables/form'\n\n// Utilities\nimport { ref } from 'vue'\nimport { defineComponent, useRender } from '@/util'\nimport { useForwardRef } from '@/composables/forwardRef'\n\n// Types\nimport type { SubmitEventPromise } from '@/composables/form'\n\nexport const VForm = defineComponent({\n  name: 'VForm',\n\n  props: {\n    ...makeFormProps(),\n  },\n\n  emits: {\n    'update:modelValue': (val: boolean | null) => true,\n    submit: (e: SubmitEventPromise) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const form = createForm(props)\n    const formRef = ref<HTMLFormElement>()\n\n    function onReset (e: Event) {\n      e.preventDefault()\n      form.reset()\n    }\n\n    function onSubmit (_e: Event) {\n      const e = _e as SubmitEventPromise\n\n      const ready = form.validate()\n      e.then = ready.then.bind(ready)\n      e.catch = ready.catch.bind(ready)\n      e.finally = ready.finally.bind(ready)\n\n      emit('submit', e)\n\n      if (!e.defaultPrevented) {\n        ready.then(({ valid }) => {\n          if (valid) {\n            formRef.value?.submit()\n          }\n        })\n      }\n\n      e.preventDefault()\n    }\n\n    useRender(() => ((\n      <form\n        ref={ formRef }\n        class=\"v-form\"\n        novalidate\n        onReset={ onReset }\n        onSubmit={ onSubmit }\n      >\n        { slots.default?.(form) }\n      </form>\n    )))\n\n    return useForwardRef(form, formRef)\n  },\n})\n\nexport type VForm = InstanceType<typeof VForm>\n"],"names":["_createElementVNode","class","id","for","type","_createElementBlock","_hoisted_1","_createVNode","_component_v_form","ref","$data","$event","onSubmit","_ctx","_component_v_text_field","rules","label","required","min","name","hint","counter","_cache","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onClick","$options","_Fragment","_renderList","url","length","i","_createBlock","_component_router_link","key","to","_toDisplayString","title","data","valid","checkUser","email","password","token","show1","show2","emailRules","v","test","emailMatch","loginButton","methods","login","axios","this","then","res","alert","console","log","consumer_id","expire","Date","now","localStorage","setItem","JSON","stringify","$store","commit","farm_id","state","config","headers","TOKEN","$router","push","catch","err","__exports__","render","VForm","defineComponent","props","makeFormProps","emits","val","submit","e","setup","slots","emit","_ref","form","createForm","formRef","onReset","preventDefault","reset","_e","ready","validate","bind","finally","defaultPrevented","_ref2","useRender","default","_slots$default","useForwardRef"],"sourceRoot":""}