{"version":3,"file":"js/593.beef1f8b.js","mappings":"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","sources":["webpack://realvue/./src/views/main/alert.vue","webpack://realvue/./src/views/main/alert.vue?1df6"],"sourcesContent":["<template>\n<div>\n    <div class=\"main_nav_t_div\">\n        <nav class=\"main_t_nav\">\n            <ul class=\"main_t_nav_list\">\n                <li class=\"nav__btn\">\n                    <div class=\"nav__notification-dot\"></div>\n                    <a class=\"nav__link\"><i class=\"fas fa-bars fa-2x\" aria-hidden=\"true\"></i>\n                    </a>\n                </li>\n\n                \n                <li class=\"main_m_li_list\">\n                    <a class=\"nav_m_link\" href=\"workout.html\">\n                        <h4 class=\"user-component__title\">경매 알림</h4><i class=\" fa-2x\" aria-hidden=\"true\" image\n                            src=\"../image/123.jpg\"></i>\n                    </a>\n                </li>\n\n                <li class=\"nav__btn\">\n                    <a class=\"nav__link\" v-on:click=\"navigategoback\"><i class=\"fas fa-chevron-left fa-2x\"\n                            aria-hidden=\"true\"></i>\n                    </a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n\n    <div class=\"main-screen\">\n        <fieldset>\n            <ul class=\"goods_group\">\n                <li v-for=\"(alert, index) in this.$store.state.alertList\" :key=\"alert.alert_id\">\n                    <div class=\"user-component\">\n                        <div class=\"user-component__column\">\n                            <img src=\"https://static.smalljoys.me/2020/08/2898992_mfwfp-ch_400x400_1597309435.jpg\"\n                                class=\"user-component__avatar user-component__avatar\">\n                            <div class=\"user-component__text\">\n                                <h4 class=\"user-component__title\">{{alert.d_status}}</h4>\n                                <h6 class=\"user-component__subtitle\">내용    {{alert.auction_name}}</h6>\n                            </div>\n                        </div>\n                        <button @click=\"checked(alert.alert_id, index)\">확인여부  {{alert.checked}}</button>\n\n                        <div class=\"user-component__column\">\n                        <span class=\"user-component__time\">{{alert.time}}</span>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </fieldset>\n    </div>\n\n    <div id=\"imageDownloaderSidebarContainer\">\n        <div class=\"image-downloader-ext-container\">\n            <div tabindex=\"-1\" class=\"b-sidebar-outer\">\n                <div id=\"image-downloader-sidebar\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"false\" aria-hidden=\"true\"\n                    class=\"b-sidebar shadow b-sidebar-right bg-light text-dark\" style=\"width: 500px; display: none;\">\n                    <div class=\"b-sidebar-body\">\n                        <div></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"main_nav_b_div\">\n        <nav class=\"main_b_nav\">\n            <ul class=\"main_m_ui_list\">\n                <li class=\"nav__btn\">\n                    <a class=\"nav__link\" href=\"auction\"><h4 class=\"user-component__title\">경매장으로 가기</h4>\n                    </a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data() {\n        return {\n            // 나중에 Store나 로컬스토리지에 있는 사용자 데이터로 변경해서 사용\n            checkUser: null,\n            id: null,\n            user: JSON.parse(localStorage.getItem(\"user\")),\n        }\n    },\n    mounted() {\n        if (this.user.farm_id == undefined) {\n            this.checkUser = 'consumer'\n            this.id = this.user.consumer_id\n        } else {\n            this.checkUser = 'farm'\n            this.id = this.user.farm_id\n        }\n        console.log(this.checkUser + '/' + this.id);\n\n        this.$sse.create(`http://118.67.134.38:8080/api/subscribeAlert/` + this.checkUser + '/' + this.id)\n        .on('init', (init_data) => {\n\n            console.log('init: ');\n            this.$store.commit('INIT_ALERT_LIST', JSON.parse(init_data));\n        })\n        .on('alert', (alert_data) => {\n\n            this.$store.commit('PUSH_ALERT_LIST', JSON.parse(alert_data));\n        })\n        .on('error', (err) => console.error('Failed to parse or lost connection:', err))\n        .connect()\n        .catch((err) => console.error('Failed make initial connection:', err));\n    },\n    methods: {\n        checked(alert_id, alertList_index){\n            console.log(\"alert_id: \" + alert_id);\n            // axios를 이용해서 DB에 있는 checked 변경\n            axios.patch(`/api/checkedAlert/${alert_id}`)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n                if (res.data == 1){\n                    this.$store.commit('CHECKED_ALERT', alertList_index);\n                } else {\n                    alert(\"읽음 표시 서버 에러!\")\n                }\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\n            \n        },\n        navigategoback() {\n            this.$router.go(-1);\n        },\n\n    }\n\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./alert.vue?vue&type=template&id=e1715512\"\nimport script from \"./alert.vue?vue&type=script&lang=js\"\nexport * from \"./alert.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/webapp_farm_auction/rda_farm/FrontVue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","image","src","_hoisted_7","id","tabindex","role","style","_createElementBlock","_hoisted_4","_hoisted_5","onClick","$options","_Fragment","_renderList","$store","state","alertList","alert","index","key","alert_id","_hoisted_13","_toDisplayString","d_status","auction_name","checked","_hoisted_17","time","_hoisted_20","_hoisted_21","data","checkUser","user","JSON","parse","localStorage","getItem","mounted","undefined","this","farm_id","consumer_id","console","log","$sse","create","on","init_data","commit","alert_data","err","error","connect","catch","methods","alertList_index","axios","then","res","navigategoback","$router","go","__exports__","render"],"sourceRoot":""}