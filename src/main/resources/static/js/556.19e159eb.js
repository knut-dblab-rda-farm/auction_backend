"use strict";(self["webpackChunkrealvue"]=self["webpackChunkrealvue"]||[]).push([[556],{5140:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(3396),r=s(7139),n=s(3289);const l=e=>((0,a.dD)("data-v-356d296a"),e=e(),(0,a.Cn)(),e),i={class:"header"},o={class:"navLi"},c=(0,a.Uk)("mdi-home"),u={class:"navLi"},d={class:"navLi"},h=l((()=>(0,a._)("i",{class:"fas fa-chevron-left fa-2x","aria-hidden":"true"},null,-1))),m=[h];function _(e,t,s,l,h,_){const v=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",i,[(0,a._)("nav",null,[(0,a._)("li",o,[(0,a.Wm)(v,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Wm)(n.t,null,{default:(0,a.w5)((()=>[c])),_:1})])),_:1})]),(0,a._)("li",u,(0,r.zw)(s.headerProps),1),(0,a._)("li",d,[(0,a._)("p",{class:"nav__link",onClick:t[0]||(t[0]=e=>_.goBack())},m)])])])}var v={props:{headerProps:String},methods:{goBack(){this.$router.go(-1)}}},g=s(89);const f=(0,g.Z)(v,[["render",_],["__scopeId","data-v-356d296a"]]);var p=f},177:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(3396),r=s(9374),n=s(1138),l=s(7041),i=s(1477),o=s(2370),c=s(3712),u=s(4870),d=s(1107),h=s(131);const m=(0,d.a)({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...(0,r.Z)(),...(0,n.Q)({tag:"div"}),...(0,l.x$)()},setup(e,t){let{slots:s}=t;const n=20,d=2*Math.PI*n,m=(0,u.iH)(),{themeClasses:_}=(0,l.ER)(e),{sizeClasses:v,sizeStyles:g}=(0,r.t)(e),{textColorClasses:f,textColorStyles:p}=(0,o.rY)((0,u.Vh)(e,"color")),{textColorClasses:k,textColorStyles:b}=(0,o.rY)((0,u.Vh)(e,"bgColor")),{intersectionRef:w,isIntersecting:$}=(0,i.S)(),{resizeRef:S,contentRect:A}=(0,c.y)(),x=(0,a.Fl)((()=>Math.max(0,Math.min(100,parseFloat(e.modelValue))))),y=(0,a.Fl)((()=>Number(e.width))),C=(0,a.Fl)((()=>g.value?Number(e.size):A.value?A.value.width:Math.max(y.value,32))),U=(0,a.Fl)((()=>n/(1-y.value/C.value)*2)),L=(0,a.Fl)((()=>y.value/C.value*U.value)),D=(0,a.Fl)((()=>(0,h.kb)((100-x.value)/100*d)));return(0,a.m0)((()=>{w.value=m.value,S.value=m.value})),()=>(0,a.Wm)(e.tag,{ref:m,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":$.value,"v-progress-circular--disable-shrink":"disable-shrink"===e.indeterminate},_.value,v.value,f.value],style:[g.value,p.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:x.value},{default:()=>[(0,a.Wm)("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${U.value} ${U.value}`},[(0,a.Wm)("circle",{class:["v-progress-circular__underlay",k.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":L.value,"stroke-dasharray":d,"stroke-dashoffset":0},null),(0,a.Wm)("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":L.value,"stroke-dasharray":d,"stroke-dashoffset":D.value},null)]),s.default&&(0,a.Wm)("div",{class:"v-progress-circular__content"},[s.default({value:x.value})])]})}});function _(e,t){return(0,a.wg)(),(0,a.j4)(m,{class:"spinner",indeterminate:"",color:"orange"})}var v=s(89);const g={},f=(0,v.Z)(g,[["render",_],["__scopeId","data-v-2c2c7d18"]]);var p=f},5556:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var a=s(3396),r=s(7139);const n=e=>((0,a.dD)("data-v-09e46dda"),e=e(),(0,a.Cn)(),e),l={class:"alert-contain"},i={class:"inner",ref:"items"},o={class:"main-screen"},c={class:"goods_group"},u={class:"user-component"},d={class:"user-component__column"},h=["src"],m={class:"user-component__text"},_={class:"user-component__title"},v={class:"user-component__subtitle"},g={class:"user-component__content"},f={class:"user-component__column"},p={class:"user-component__time"},k=["onClick"],b=n((()=>(0,a._)("div",{id:"imageDownloaderSidebarContainer"},[(0,a._)("div",{class:"image-downloader-ext-container"},[(0,a._)("div",{tabindex:"-1",class:"b-sidebar-outer"},[(0,a._)("div",{id:"image-downloader-sidebar",tabindex:"-1",role:"dialog","aria-modal":"false","aria-hidden":"true",class:"b-sidebar shadow b-sidebar-right bg-light text-dark",style:{width:"500px",display:"none"}},[(0,a._)("div",{class:"b-sidebar-body"},[(0,a._)("div")])])])])],-1))),w={class:"main_nav_b_div"},$={class:"main_b_nav"},S={class:"main_m_ui_list"},A={class:"nav__btn"},x=n((()=>(0,a._)("button",{class:"aution_button"},"경매장으로 가기",-1)));function y(e,t,s,n,y,C){const U=(0,a.up)("Header"),L=(0,a.up)("Spinner"),D=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(U,{headerProps:y.headerProps},null,8,["headerProps"]),(0,a._)("div",i,[1===y.spinnerState?((0,a.wg)(),(0,a.j4)(L,{key:0})):(0,a.kq)("",!0),(0,a._)("div",o,[(0,a._)("fieldset",null,[(0,a._)("ul",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.alertList,((t,s)=>((0,a.wg)(),(0,a.iD)("li",{key:s},[(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("img",{src:`/product_images/${e.$store.state.alertList[s].product_img_name}.png`,class:"user-component__avatar",width:"50",height:"50"},null,8,h)]),(0,a._)("div",m,[(0,a._)("h4",_,(0,r.zw)(e.$store.state.alertList[s].auction_name),1),(0,a._)("h5",v,(0,r.zw)(e.$store.state.alertList[s].f_farm_name),1),(0,a._)("p",g,(0,r.zw)("consumer"===y.checkUser?y.status.consumerAlert[s]:y.status.farmAlert[s]),1)]),(0,a._)("div",f,[(0,a._)("p",p,(0,r.zw)(t.time.slice(0,10)),1),(0,a._)("button",{class:"check-button",onClick:e=>C.checked(t.alert_id,s)},"확인여부 "+(0,r.zw)(t.checked),9,k)])])])))),128))])])]),b,(0,a._)("div",w,[(0,a._)("nav",$,[(0,a._)("ul",S,[(0,a._)("li",A,[(0,a.Wm)(D,{class:"nav__link",to:"/auction"},{default:(0,a.w5)((()=>[x])),_:1})])])])])],512)])}var C=s(5140),U=s(177),L=s(6265),D=s.n(L),H=s(4806),z=s.n(H),I={components:{Header:C.Z,Spinner:U.Z},data(){return{headerProps:"경매 알림",checkUser:null,id:null,user:JSON.parse(localStorage.getItem("user")),getData:[],spinnerState:1,checkUser:localStorage.getItem("checkUser"),status:{consumerAlert:[],beforeConsumerAlert:[],farmAlert:[]},maxAlertText:"더 이상 가져올 알림이 없습니다.",height:0,zeroData:0}},mounted(){this.height=document.body.scrollHeight,console.log(this.$refs.items.clientHeight),setTimeout((()=>{this.spinnerState=0,this.statusFunc()}),3e3),window.addEventListener("scroll",z().throttle((()=>{this.infiniteScroll(),this.height=document.documentElement.scrollHeight}),500),!0),this.checkUser=localStorage.getItem("checkUser"),this.id="consumer"==this.checkUser?this.user.consumer_id:this.user.farm_id,console.log(this.checkUser)},methods:{infiniteScroll(){const{innerHeight:e}=window;Math.round(this.$refs.items.scrollTop+e)===this.$refs.items.scrollHeight&&(console.log("스크롤 실행"),this.getAlertData()),console.log(e)},getAlertData(){if(this.$store.state.isMaxStartLimit)return this.zeroData=1,alert(this.maxAlertText);D().get(`/api/alert/${this.checkUser}/${this.id}/${this.$store.state.alertStartLimit}`,{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e.data),this.$store.commit("PUSH_ALERT_LIST",e.data),this.statusFunc()})).catch((e=>{console.log(e)}))},checked(e,t){console.log("alert_id: "+e),D().patch(`/api/checkedAlert/${e}`,{},{headers:{TOKEN:this.user.token}}).then((e=>{console.log(e.data),1==e.data?this.$store.commit("CHECKED_ALERT",t):alert("읽음 표시 서버 에러!")})).catch((e=>{}))},navigategoback(){this.$router.go(-1)},statusFunc(){let e=this.$store.state.alertList;console.log(e);for(let t=0;t<e.length;t++){switch(console.log(e[t]),e[t].d_status){case 0:"farm"===this.checkUser?this.status.farmAlert.push(`${e[t].c_name}님이 입찰했습니다.`):this.status.consumerAlert.push(`${e[t].f_farm_name}님 것을 입찰했습니다.`);break;case 1:console.log("alertList.pre_consumer_id: "+e[t].pre_consumer_id),console.log("this.user.consumer_id: "+this.user.consumer_id),"farm"===this.checkUser?this.status.farmAlert.push(`${e[t].c_name}님이 입찰했습니다.`):e[t].pre_consumer_id===this.user.consumer_id?this.status.consumerAlert.push(`${e[t].c_name}님이 ${e[t].auction_name}를 더 높은 가격에 입찰했습니다.`):this.status.consumerAlert.push(`${e[t].f_farm_name}님 것을 입찰했습니다.`);break;case 2:"farm"===this.checkUser?this.status.farmAlert.push(`${e[t].c_name}님이 최대가에 입찰해서 마감되었습니다.`):this.status.consumerAlert.push(`${e[t].f_farm_name}님의 경매를 최대가에 입찰했습니다.`);break;case 3:"farm"===this.checkUser?e[t].consumer_id?this.status.farmAlert.push("낙찰가 없이 경매가 마감되었습니다."):this.status.farmAlert.push(`${e[t].c_name}님이 낙찰하셨습니다.`):this.status.consumerAlert.push(`${e[t].f_farm_name}님의 경매를 낙찰했습니다.`);break;case 4:"farm"===this.checkUser&&this.status.farmAlert.push(`${e[t].c_name}님이 ${e[t].auction_name}에 리뷰를 남겼습니다.`);break;case 5:"consumer"===this.checkUser&&this.status.consumerAlert.push(`${e[t].f_farm_name}님이 ${e[t].auction_name}의 리뷰에 댓글을 남겼습니다.`);break;default:return}console.log("consumer",this.status.consumerAlert),console.log("farm",this.status.farmAlert)}}}},F=s(89);const P=(0,F.Z)(I,[["render",y],["__scopeId","data-v-09e46dda"]]);var E=P},1477:function(e,t,s){s.d(t,{S:function(){return l}});var a=s(4870),r=s(3396),n=s(2385);function l(e){const t=(0,a.iH)(),s=(0,a.iH)(!1);if(n.cu){const a=new IntersectionObserver((t=>{null==e||e(t,a),s.value=!!t.find((e=>e.isIntersecting))}));(0,r.Jd)((()=>{a.disconnect()})),(0,r.YP)(t,((e,t)=>{t&&(a.unobserve(t),s.value=!1),e&&a.observe(e)}),{flush:"post"})}return{intersectionRef:t,isIntersecting:s}}}}]);
//# sourceMappingURL=556.19e159eb.js.map